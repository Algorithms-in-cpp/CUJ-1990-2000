


<HTML><HEAD>

<TITLE>January 1998/Information Hiding in C via Modular Programming/Listing 5</TITLE></HEAD>
<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4>
<A name="HEADING1">Listing 5: Modular example stack functions</A></h4>


<pre>
   /*** file stack.c ***/

#include "spublic.h"
#include "sprivate.h"

int  push(element the_data)
{
   int status = -1;
   status = priv_push(the_data);
   return(status);
}  /* ends push */

int priv_push(element new_data)
{
 int    result = 1;
 struct stack_struct *new_one;

 new_one = (struct stack_struct *) 
  calloc(1, sizeof(struct stack_struct));
  
 new_one-&gt;data = top-&gt;data;
 top-&gt;data     = new_data;
 new_one-&gt;next = top-&gt;next;
 top-&gt;next     = new_one;
 return(result);
}  /* ends priv_push */

element pop()
{
   element result = -1;
   result = priv_pop();
   return(result);
}  /* ends pop */
element priv_pop()
{
   element result;
   struct  stack_struct *temp;

   temp    = top;
   result  = top-&gt;data;
   top     = top-&gt;next;
   free(temp);
   return(result);
}  /* ends priv_pop */

/* End of File */
</pre>
</body></html>
