<HTML><HEAD>
<TITLE>April 1994/Stepping Up To C++/Listing 7</TITLE></HEAD>

<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4><A NAME="heading1">Listing 7 Member function definitions for lns using a pair of pointers</A></h4>
<pre>//
// lns1b.cpp - line number sequence implementation
//
#include &lt;stdio.h&gt;

#include "lns.h"

lns::lns(unsigned n)
   {
   first = last = new node(n);
   }

lns::~lns()
   {
   node *p;
   while ((p = first) != 0)
      {
      first = first-&gt;next;
      delete p;
      }
   }

void lns::add(unsigned n)
   {
   if (last-&gt;number != n)
      last = last-&gt;next = new node(n);
   }

void lns::print()
   {
   node *p;
   for (p = first; p != 0; p = p-&gt;next)
      printf("%4d ", p-&gt;number);
   }

// End of File
</pre>
</BODY>
</HTML>
