<HTML><HEAD>
<TITLE>April 1994/Stepping Up To C++/Listing 5</TITLE></HEAD>

<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4><A NAME="heading1">Listing 5 Member function definitions for lns using a single pointer</A></h4>
<pre>//
// lns1a.cpp - line number sequence implementation
//
#include &lt;stdio.h&gt;

#include "lns.h"

lns::~lns()
   {
   node *p;
   while ((p = first) != 0)
      {
      first = first-&gt;next;
      delete p;
      }
   }

void lns::add(unsigned n)
   {
   node *p = first;
   while (p-&gt;next != 0 &amp;&amp; p-&gt;number != n)
      p = p=&gt;next;
   if (p-&gt;number != n)
      p = p-&gt;next = new node(n);
   }

void lns::print()
   {
   node *p;
   for (p = first; p != 0; p = p-&gt;next)
      printf("%4d ", p-&gt;number);
   }

// End of File
</pre>
</BODY>
</HTML>
