<HTML><HEAD>
<TITLE>October 1991/Don't Blow Your Stack/Listing 7</TITLE></HEAD>

<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4><A NAME="heading1">Listing 7 (teststck.c)</A></h4>
<pre>/*
 *  Jerzy Tomasik, 09-Jun-1991
 *
 *  Test driver for spray_stack and unused_stack
 *  Supports Microsoft and Turbo C
 */

#include &lt;stdlib.h&gt;
#include &lt;stdio.h&gt;

unsigned short unused_stack(void);
void spray_stack(void);

void dummy(void)
   {
   char buffer[1024]; /* grab 1K of stack space */

   memset(buffer, 0, sizeof(buffer));
   }

int main(void)
   {
   spray_stack();

   printf("unused stack = %u\n", unused_stack());

   dummy();

   printf("unused stack = %u\n", unused_stack());

   return(EXIT_SUCCESS);
   }

/* End of File */</pre>

</BODY>
</HTML>
