


<HTML><HEAD>

<TITLE>March 1998/New Products/Listing 3</TITLE></HEAD>
<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4>
<A name="HEADING1">Listing 3: Rcvr_a.c</A></h4>
<pre>
#include
"Rcvr.h"
#include "Rcvr_a.h"
     
typedef struct
{
  /* arbitrarily complex data */
} Rcvr_a_data;
     
Rcvr *newRcvr_a(Rcvr *r)
{
  Rcvr_a_data *data;
     
  data = (Rcvr_a_data *) 
    calloc(sizeof (Rcvr_a_data));
     
  /* initialize data as needed */
     
  if(r == 0)
    r = (Rcvr *) calloc(sizeof (Rcvr));
     
  r-&gt;data         = data;
  r-&gt;setFreq      = Rcvr_a_setFreq;
  r-&gt;getFreq      = Rcvr_a_getFreq;
  r-&gt;getStatus    = Rcvr_a_getStatus;
  r-&gt;setScanRange = Rcvr_a_setScanRange;
  r-&gt;startScan    = Rcvr_a_startScan;
  r-&gt;stopScan     = Rcvr_a_stopScan;
     
  /* Do any setup needed by the receiver */
     
  return r;
}
     
void deleteRcvr_a(Rcvr *r)
{
  Rcvr_a_data *data = (Rcvr_a_data *) r-&gt;data;
     
  /* Shutdown the radio, etc */
     
  /* delete data struct, including any
     memory owned by the struct (I/O
     buffers, etc) */
     
  free(r);
}
     
int Rcvr_a_setFreq(
      struct Rcvr *r, const char *args)
{
  Rcvr_a_data *data = (Rcvr_a_data *) r-&gt;data;
     
  /* receiver A specific implementation */
}
     
int Rcvr_a_getFreq(struct Rcvr *r)
{
  Rcvr_a_data *data = (Rcvr_a_data *) r-&gt;data;
     
  /* receiver A specific implementation */
}
     
int Rcvr_a_getStatus(struct Rcvr *r)
{
  Rcvr_a_data *data = (Rcvr_a_data *) r-&gt;data;
     
  /* receiver A specific implementation */
}
     
int Rcvr_a_setScanRange(
      struct Rcvr *r, const char *args)
{
  Rcvr_a_data *data = (Rcvr_a_data *) r-&gt;data;
     
  /* receiver A specific implementation */
}
     
int Rcvr_a_startScan(struct Rcvr *r)
{
  Rcvr_a_data *data = (Rcvr_a_data *) r-&gt;data;
     
  /* receiver A specific implementation */
}
     
int Rcvr_a_stopScan(struct Rcvr *r)
{
  Rcvr_a_data *data = (Rcvr_a_data *) r-&gt;data;
     
  /* receiver A specific implementation */
}
/* End of File */
</pre>
</body></html>
