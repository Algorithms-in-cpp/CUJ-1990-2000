



<HTML><HEAD>

<TITLE>July 1997/Scientific Plotting with OWL/Listing 2</TITLE></HEAD>
<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">
<h4>Listing 2:	The Plot routine</h4>

<pre>
void SpettroPlot::Plot(TDC *DC)
{
    Axes(DC);

    for (int j=1;j&lt;=ls1-&gt;NSpectra();j++)
    {
      int c=ls1-&gt;ReturnCircle(j);
      TSize delta(c,c);
      ncp=ls1-&gt;GiveElement(j)-&gt;NumCouples();
      col=j;
      if (j==ls1-&gt;ReturnMarked()) col=0;
      TPen p1(colore[col]);
      TBrush b1(colore[col]);
      DC-&gt;SelectObject(b1);
      DC-&gt;SelectObject(p1);
      Couple *running;
      for (running=ls1-&gt;GiveElement(j)-&gt;Rfirst();
           running!=ls1-&gt;GiveElement(j)-&gt;Rlast();
           running=running-&gt;puntcp)
         {
            px=running-&gt;x;
            py=running-&gt;y;
            p.x=(px-ox)*sx-(delta.cx)/2;
            p.y=(py-oy)*sy-(delta.cy)/2;
            if ((px&gt;=xmi)&amp;&amp;(px&lt;=xma)&amp;&amp;(py&gt;=ymi)&amp;&amp;(py&lt;=yma))
             DC-&gt;Ellipse(p,delta);

         };
     };
}
//End of File
</pre>
</body></html>
