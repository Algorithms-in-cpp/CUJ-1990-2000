<HTML><HEAD>
<TITLE>April 1992/Standard C/Listing 5</TITLE></HEAD>

<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4><A NAME="heading1">Listing 5</A></h4>
<pre>#include &lt;stdlib.h&gt;
#include &lt;string.h&gt;

typedef enum {FLOAT, INTEGER} Code;
typedef struct {
   char *s;
   Code code;
   } Entry;
Entry symtab[] = {
   {"float", FLOAT},
   {"integer", INTEGER}}

static int cmp(const void *ck, const void *ce)
   {  /* compare key to table element */
   return (strcmp((const char *)ck, ((Entry *)ce)-&gt;s));
   }

Entry *lookup(char *key)
   {  /* lookup key in table */
   return (bsearch(key, symtab,
      sizeof symtab / sizeof symtab[0],
      sizeof symtab[0], &amp;cmp));
   }
/* End of File */
</pre>
</BODY>
</HTML>
