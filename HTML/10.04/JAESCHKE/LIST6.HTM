<HTML><HEAD>
<TITLE>April 1992/Doctor C's Pointers/Listing 6</TITLE></HEAD>

<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4><A NAME="heading1">Listing 6</A></h4>
<pre>void push(stack *st, void *pvalue)
{
      if (st-&gt;stack_ptr == st-&gt;max stack)
             printf("Stack %s is full\n", st-&gt;stack_name);
      else
             switch (st-&gt;type) {

             case INT:
                    ((int *)st-&gt;pstack)[st-&gt;stack_ptr++] = *(int *)pvalue;
                    break;

             case LONG:
                    ((long *)st-&gt;pstack)[st-&gt;stack_ptr++] = *(long *)pvalue;
                    break;

             case DOUBLE:
                    ((double *)st-&gt;pstack)[st-&gt;stack_ptr++] = *(double *)pvalue;
                    break;
             }
}

void *pop(stack *st)
{
      if (st-&gt;stack_ptr == 0) {
             printf("Stack %s is empty\n", st-&gt;stack_name);
             return 0;
      }

      switch (st-&gt;type) {

      case INT:
             return &amp;((int *)st-&gt;pstack)[-st-&gt;stack_ptr];
             break;

      case LONG:
             return &amp;((long *)st-&gt;pstack)[-st-&gt;stack_ptr];
             break;

      case DOUBLE:
             return &amp;((long *)st-&gt;pstack)[-st-&gt;stack_ptr];
             break;
      }
}

/* End of File */
</pre>
</BODY>
</HTML>
