<HTML><HEAD><TITLE>June 1990/A Date Object In C++/Listing 3</TITLE></HEAD><BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">
<h4><A name="014A_00C5"><A name="014A_00C5">Listing 3<A name="014A_00C5"></h4><P>
<pre>/*
** datetest.c -- test program for DateObjects
*/

#include  &lt;stdio.h&gt;
#include  &lt;stream.hpp&gt;
#include  "dates.hpp"

void main(void)
{
DateObject d1(1, 1, -4700, "d mmmm yyyy");
DateObject d2(31, 12, 25000, "d mmmm yyyy");
DateObject d3(23, 5, 1968, "d mmm yyy");
DateObject d4;          /* initialize to todays date */
DateObject d5;
long Diff;

   cout &lt;&lt; "DateObjects can span dates from " &lt;&lt; d1.DateToString() &lt;&lt; "\n";
   cout &lt;&lt; "to" &lt;&lt; d2.DateToString() &lt;&lt; ", or ";
   cout &lt;&lt; (Diff = (d2 - d1)) &lt;&lt;" days.\n\n";

   cout &lt;&lt; "A good reference date is" &lt;&lt; d3.DateToString() &lt;&lt; "\n";
   cout &lt;&lt; "which should have a Julian date of 2440000.\n";
   cout &lt;&lt; "If we call GetJulian() to make sure, we find\n";
   cout&lt;&lt; "that it does";

   if (d3.GetJulian() != 2440000L)
      cout &lt;&lt;" not";
   cout &lt;&lt; ", in fact, equal 2440000.\n\n";

   cout &lt;&lt; "Attempting to add" &lt;&lt; Diff &lt;&lt;" days to" &lt;&lt;
      d3.DateToString() &lt;&lt; "\n";
   cout &lt;&lt; "yields a" &lt;&lt; (d3 + Diff).DateToString() &lt;&lt; ".\n";

   cout &lt;&lt; "Attempting to subtract " &lt;&lt; Diff &lt;&lt;" days from" &lt;&lt;
      d3.DateToString() &lt;&lt; "\n";
   cout &lt;&lt; "yields a" &lt;&lt; (d3 - Diff).DateToString() &lt;&lt; ".\n";

   cout &lt;&lt; "However, adding" &lt;&lt; Diff &lt;&lt;" days to" &lt;&lt;
      d1.DateToString()&lt;&lt; "\n";
   cout &lt;&lt; "yields" &lt;&lt; (d1 + Diff).DateToString() &lt;&lt; ".\n\n";

   cout &lt;&lt; "Today is "&lt;&lt; d4.DateToString() &lt;&lt; ".\n";
   d4.ChangeFormat("dddd");
   cout &lt;&lt; "The next five days are:\n";
   for (++d4 ; d4 &lt;= d5 + 5; d4++)
      cout &lt;&lt; d4.DateToString() &lt;&lt; "\n";
   cout &lt;&lt; "\n";
}
</pre>
</BODY>
</HTML>
