<HTML><HEAD><TITLE>June 1990/Dr. C's Pointers/Listing 1</TITLE></HEAD><BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">
<h4><A name="0159_00C3"><A name="0159_00C3">Listing 1<A name="0159_00C3"></FONT></h4><P>
<pre>#include &lt;stdio.h&gt;</FONT>
#include &lt;stdlib.h&gt;</FONT>

main()</FONT>
{</FONT>
   FILE *out, *tmp;</FONT>
   char ch;</FONT>

   printf("Enter A (abort), E (exit): ");</FONT>
   ch = getchar();</FONT>

   tmp= tmpfile();</FONT>
   fwrite("abcdefgh\n", 1, 9, tmp);</FONT>

   out = fopen("TEST.DAT", "w");</FONT>
   fprintf(out, "message to data file\n");</FONT>

   fprintf(stderr, "error message to stderr\n");</FONT>

   if (ch == 'A')</FONT>
       abort();</FONT>
   else</FONT>
       exit(0);</FONT>
}</FONT>
</pre>
</BODY>
</HTML>
