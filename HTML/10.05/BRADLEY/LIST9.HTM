<HTML><HEAD>
<TITLE>May 1992/Implementing Direct Memory Access (DMA) in C/Listing 9</TITLE></HEAD>

<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4><A NAME="heading1">Listing 9 (makefile) Makefile Used for Building the ADCTEST Application</A></h4>
<pre>#*****************************************************
#
#   To use type NMAKE on the command line.
#
#   Copyright Don Bradley, 1991.
#
#   Permission is granted for used of these routines
#   in any manner as long as this copyright notice is
#   included.
#
#   Tested using Quick C 2.5 and MSC 6.0 on a
#   Toshiba T5200.
#
#*****************************************************

PROJ      =ADCTEST
CC        =cl
CFLAGS_G        = /AL /W3
CFLAGS_D        = /Zi /Od
CFLAGS_R        =
CFLAGS  =$(CFLAGS_G) $(CFLAGS_R)
LFLAGS_G        = /CP:0xfff /NOI /NOE /SE:0x80 /ST:0x800
LFLAGS_D        = /CO /INCR
LFLAGS_R        =
LFLAGS  =$(LFLAGS_G) $(LFLAGS_R)
OBJS_EXT =
LIBS_EXT =

all:    $(PROJ).EXE

adctest.obj:   adctest.c $(H)

adcdma.obj:    adcdma.c $(H)

dma.obj:       dma.c $(H)

labmastr.obj:  labmastr.c $(H)

timer.obj:     timer.c $(H)

adc.obj:       adc.c $(H)

$(PROJ).EXE:   adctest.obj adcdma.obj dma.obj \
             labmastr.obj timer.obj adc.obj \
             $(OBJS_EXT)
       echo &gt;NUL @&lt;&lt;$(PROJ).crf
adctest.obj +
adcdma.obj +
dma.obj +
labmastr.obj +
timer.obj +
adc.obj +
$(OBJS_EXT)
$(PROJ).EXE
$(LIBS_EXT);
&lt;&lt;
       link $(LFLAGS) @$(PROJ).crf" $(PROJ)</pre>

</BODY>
</HTML>
