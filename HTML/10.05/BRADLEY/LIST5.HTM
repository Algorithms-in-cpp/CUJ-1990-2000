<HTML><HEAD>
<TITLE>May 1992/Implementing Direct Memory Access (DMA) in C/Listing 5</TITLE></HEAD>

<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4><A NAME="heading1">Listing 5 (labmastr.c) Basic Routines Required for Programming the Lab Master AD</A></h4>
<pre>/*****************************************************

       Copyright Don Bradley, 1991.

       Permission is granted for used of these routines
       in any manner as long as this copyright notice is
       included.

       Tested using Quick C 2.5 and MSC 6.0 on a
       Toshiba T5200.

*****************************************************/

#include &lt;conio.h&gt;

#include "labmastr.h"

int LabMasterAD_Enable()
/*&amp; Enables the Labmaster AD card. Returns Enable
        Status. */
       {
       if(LabMasterAD_Product() != LM_ID)
              return (0);

       outp(BRD_ENABLE, 1);
       return (inp(BRD_ENABLE) &amp; 1);
       }

int LabMasterAD_Disable()
/*&amp; Disables the Labmaster AD card. Returns Enable
        Status. */
       {
       outp(BRD_ENABLE, 0);
       return (inp(BRD_ENABLE) &amp; 1);
       }

int LabMasterAD_Product()
/*&amp; Returns the Labmaster AD Product Code */
       {
       return (inp(PRODUCT));
       }

int LabMasterAD_Version()
/*&amp; Returns the Labmaster AD Version Number */
       {
       return (inp(VERSION));
       }

/* End of File */
</pre>
</BODY>
</HTML>
