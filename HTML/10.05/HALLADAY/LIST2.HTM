<HTML><HEAD>
<TITLE>May 1992/malloc-Related Errors/Listing 2</TITLE></HEAD>

<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4><A NAME="heading1">Listing 2 Error by Writing a Freed Pointer (Item's value may have changed.)</A></h4>
<pre>#include &lt;stdlib.h&gt;
#include &lt;assert.h&gt;

void    main() {
int     *ip;

       /* allocate an integer */
       ip = malloc(sizeof(int));
       assert(ip != NULL);

       /* initialize the integer */
       (*ip) = 1;

       /* deallocate the integer */
       free(ip);

       /* update the deallocated integer */
       (*ip)++;
       printf("*ip == %d\n",*ip);
}
/* End of File */
</pre>
</BODY>
</HTML>
