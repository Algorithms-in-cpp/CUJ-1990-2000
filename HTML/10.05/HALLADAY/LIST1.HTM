<HTML><HEAD>
<TITLE>May 1992/malloc-Related Errors/Listing 1</TITLE></HEAD>

<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4><A NAME="heading1">Listing 1 Error by Reading a Freed Pointer</A></h4>
<pre>#include &lt;stdlib.h&gt;
#include &lt;assert.h&gt;

void    main() {
int     *ip;
int     n;

       /* allocate an integer */
       ip = malloc(sizeof(int));
       assert(ip != NULL);

       /* initialize the integer */
       (*ip) = 1;
       
       /* deallocate the integer */
       free(ip);

       /* use the deallocated integer */
       n = 3 * (*ip);
       printf("n may or may not equal 3 (n == %d)\n",n);
}
/* End of File */
</pre>
</BODY>
</HTML>
