<HTML><HEAD>
<TITLE>July 1998/C++ Theory and Practice/Listing 4</TITLE></HEAD>
<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4><A NAME="heading1">Listing 4: xr.cpp &#151; generates a cross-reference of words; allows creation of more than one cross-reference table</A></h4>

<pre>
// xr.cpp - generate a cross-reference of words 
// using a cross-reference table implementation 
// that allows for more than one table
     
#include &lt;ctype.h&gt;
#include &lt;stdio.h&gt;
     
#include "cross_reference.h"
     
int get_token(char *s, size_t n);
     
#define MAX_TOKEN 256
     
int main()
    {
    char token[MAX_TOKEN];
    unsigned ln = 1;
    cross_reference::table t;
    t = NULL;
    while (get_token(token, MAX_TOKEN) != EOF)
        if (isalpha(token[0]) || token[0] == '_')
            t = cross_reference::add(t, token, ln);
        else if (token[0] == '\n')
            ++ln;
    cross_reference::put(t);
    return 0;
    }
     
int get_token(char *s, size_t n)
    {
    ... same as Listing 2 ...
    }
//End of File</pre>
</BODY>
</HTML>
