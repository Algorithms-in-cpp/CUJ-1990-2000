<HTML><HEAD>
<TITLE>July 1998/Template Classes for Color-Space Conversions/Listing 2</TITLE></HEAD>
<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4><A NAME="heading1">Listing 2: Mapping RGB709 into the Lab colorspace</A></h4>
<pre>
// clrspace.cpp

#include &lt;iostream.h&gt;
#include "clrspace.h"

void Gamut() // display sRGB gamut in terms of Lab
{
    using namespace clrspace;

       // precompute white XYZ (D65 with Y = 100)
       XYZ&lt;float&gt; XnYnZn = D65&lt;float&gt;().toXYZ(100);

       // sample sRGB space and convert to Lab
       for (int i = 0; i &lt; 6; i++)
        for (int j = 0; j &lt; 6; j++)
            for (int k = 0; k &lt; 6; k++)
            {
                sRGB&lt;float&gt; rgb (0.2*i, 0.2*j, 0.2*k);
                XYZ&lt;float&gt; xyz = rgb;
                Lab&lt;float&gt; lab(xyz,XnYnZn);
                cout &lt;&lt; lab.L() &lt;&lt; ' ';
                cout &lt;&lt; lab.a() &lt;&lt; ' ';
                cout &lt;&lt; lab.b() &lt;&lt; endl;
            }
}

void main()
{
    Gamut();

    char dummy;
    cin &gt;&gt; dummy;
}

//End of File</pre>
</BODY>
</HTML>
