


<HTML><HEAD>

<TITLE>June 1998/Inter-Object Messaging Using a SwitchBoard/Listing 4</TITLE></HEAD>
<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4>
<A name="HEADING1">Listing 4: Creating a subscriber named PersonnelList</A></h4>


<pre>
class PersonnelList
{
private:
  SubscriberHookup* _swsub;

public:
  PersonnelList();
  ~PersonnelList();

  // PersonnelList code here

  // persistent store and SwitchBoard
  // saveYourself message handler
  void store();
};


// -- implementation ----------------------
////
PersonnelList::PersonnelList()
{
  _swsub = newSwitchBoardSubscribtion
    ("saveYourself", this, store);
  // rest of the constructor code here
}

PersonnelList::~PersonnelList()
{
  delete _swsub;
  // rest of destructor code here
}

void PersonnelList::store()
{
  // persistent store
  cerr &lt;&lt; "saving..." &lt;&lt; endl;
}
/* End of File */
</pre>
</body></html>
