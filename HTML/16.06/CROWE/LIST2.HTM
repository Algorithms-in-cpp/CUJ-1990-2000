


<HTML><HEAD>

<TITLE>June 1998/Inter-Object Messaging Using a SwitchBoard/Listing 2</TITLE></HEAD>
<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4>
<A name="HEADING1">Listing 2: The SubscriberHookup class</A></h4>


<pre>
#include "SwitchBoard.h"
#include &lt;String.h&gt;


// SubscriberHookup abstract base class 
////
class SubscriberHookup
{
private:
  // name of the subscription used in
  // SwitchBoard::call()
  String _subscription; 

public:
  SubscriberHookup
    (const char* subscription) :
      _subscription(subscription) {

SwitchBoard::instance()._subscribe(this);
  }
  ~SubscriberHookup() {
     SwitchBoard::instance()
       ._unsubscribe(this);
  }

  // accessors
  const String&amp; getSubscription() {
    return(_subscription);
  }

  // dispatching (is written by
  // the template subclass)
  virtual void deliver() = 0;
};
/* End of File */
</pre>
</body></html>
