


<HTML><HEAD>

<TITLE>June 1998/We Have Mail/Listing 1</TITLE></HEAD>
<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4>
<A name="HEADING1">Listing 1: delete generates assertion failure</A></h4>


<pre>
#include &lt;iostream.h&gt;
     
class mystery{
public:
 mystery::mystery();
 mystery::~mystery();
     
private:
 char * message;
};
     
//Implementation
     
 mystery::mystery()
 {
  message = new char[50];
  message = "Constructor message goes here"; 
  cout &lt;&lt; message &lt;&lt; endl;
 }
     
 mystery::~mystery()
 {
  message = "Destructor message goes here"; 
  cout &lt;&lt; message;
  delete [] message;// Return memory to free
                    // store
 }
     
 void f()
 {
  mystery source;
 }
     
int main()
{
 f();
 return 0;
}
//End of File
</pre>
</body></html>
