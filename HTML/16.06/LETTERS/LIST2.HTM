


<HTML><HEAD>

<TITLE>June 1998/We Have Mail/Listing 2</TITLE></HEAD>
<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4>
<A name="HEADING1">Listing 2: Alternative implementation for non-zero based arrays</A></h4>


<pre>
template &lt;class T&gt;
class Array {
  int low, high;
  T *value;
public:
  Array(int l, int h) : low(l), high(h) {
    value = new T[high-low+1] - low;
  }
  ~Array() // just say delete to leaks 
  { delete [] (value + low); }  
  T &amp; operator [](int i) {
    if (i &gt;= low &amp;&amp; i &lt;= high)
      return value[i];
    else {
      // why not just throw an exception here?
      error();
      return value[low];
    }
  }
};
//End of File
</pre>
</body></html>
