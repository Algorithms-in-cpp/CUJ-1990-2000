<HTML><HEAD>
<TITLE>July 2000/The Journeyman's Shop/Listing 3</TITLE></HEAD>

<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4><A NAME="heading1">Listing 3: A program that demonstrates all four rounding modes</A></h4>
<pre>
//    bound.cpp

#include &lt;iostream&gt;
#include "fp.h"

static void show(const char *title)
    {
    fp a1 = fp(2.0);
    fp a2 = fp(1.0) + fp(3.0) * std::numeric_limits&lt;fp&gt;::epsilon();
    std::cout &lt;&lt; '\n' &lt;&lt; title &lt;&lt; '\n';
    std::cout &lt;&lt; (a1 + a2) &lt;&lt; '\n';    
    std::cout &lt;&lt; (-a1 - a2) &lt;&lt; '\n';    
    }

int main()
    {
    show("round to nearest");
    fp::set_round(fp::rm_down);
    show("round toward negative infinity");
    fp::set_round(fp::rm_up);
    show("round toward positive infinity");
    fp::set_round(fp::rm_zero);
    show("round toward zero");
    return 0;
    }
</pre></body></html>
