<HTML><HEAD>
<TITLE>July 2000/The Journeyman's Shop/Listing 4</TITLE></HEAD>

<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4><A NAME="heading1">Listing 4: The add function</A></h4>
<pre>
//    excerpt from fp.cpp

fp&amp; fp::add(const fp&amp; f1, const fp&amp; f2)
    {    // set this object to sum of f1 and f2
    long fracr = f1.lf() &lt;&lt; P;
    if (f1.exp - f2.exp &lt; P + 2)
        fracr += ((f2.lf() &lt;&lt; P) &gt;&gt; (f1.exp - f2.exp));
    return normalize(f1.exp, fracr);
    }
</pre></body></html>
