<HTML><HEAD>
<TITLE>May 1994/Standard C/Listing 2</TITLE></HEAD>

<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4><A NAME="heading1">Listing 2 <I>The macro </I>_BITMASK</A></h4>
<pre>// bitmask macros
#if _HAS_ENUM_OVERLOADING
 #define _BITMASK(E, T)    \
E&amp; operator&amp;=(E&amp; _X, E _Y) \    {_X = (E)(_X &amp; _Y); return (_X); } \
E&amp; operator|=(E&amp; _X, E _Y) \    {_X = (E)(_X | _Y); return (_X); } \
E&amp; operator^=(E&amp; _X, E _Y) \    {_X = (E)(_X ^ _Y); return (_X); } \
E&amp; operator&amp;(E _X, E _Y) \    {return ((E)(_X &amp; _Y)); } \
E&amp; operator|(E _X, E _Y) \    {return ((E)(_X | _Y)); } \
E&amp; operator^(E _X, E _Y) \    {return ((E)(_X ^ _Y)); } \
E&amp; operator~(E _X) \    {return ((E)~_X); } \
typedef E T
#else
#define _BITMASK(E, T)    typedef int T
#endif
// End of File
</pre>
</BODY>
</HTML>
