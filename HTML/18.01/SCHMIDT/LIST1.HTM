<HTML><HEAD>
<TITLE>January 2000/Uncaught Exceptions/Listing 1</TITLE></HEAD>

<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4><A NAME="heading1">Listing 1: Mysterious exceptions</A></h4>
<pre>
#include &lt;stdio.h&gt;

class error
    {
public:
    error()
        {
        printf("error()\n");
        };
    ~error()
        {
        printf("~error()\n");
        };
    };

static void test_1()
    {
    throw error();
    };

static void test_2() throw()
    {
    throw error(); // violates
                   // specification
    };

int main()
    {
    printf("\nTest 1:"
           "specification empty\n");
    try
        {
        test_1();
        }
    catch (...)
        {
        printf("caught\n");
        };
    printf("\nTest 2:"
           "specification 'throw()'\n");
    try
        {
        test_2();
        }
    catch (...)
        {
        printf("caught\n"); // should never appear
        };
    return 0;
    }
</pre></body></html>
