<HTML><HEAD>
<TITLE>June 1992/Using Variable-Length Argument Lists in C/Listing 3</TITLE></HEAD>

<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4><A NAME="heading1">Listing 3</A></h4>
<pre>    #include &lt;graphics.h&gt;
    #include &lt;stdarg.h&gt;
    #include &lt;stdio.h&gt;

    int gprintf(int x, int y, char *fmt, ...)
       {
       int lent;
       char buf[100];
       va_list args;

       va_start(args, fmt);

       len = vsprintf(buf, fmt, args);
       outtextxy(x, y, bur);

       va_end(args);
       return len;
       }

    void main()
       {
       int driver=DETECT, mode;
       initgraph(&amp;driver, &amp;mode, "c:/tc/bgi");
       gprintf(100, 200, "Driver=%d, Mode=%d.",
       driver, mode );
       getch();
       closegraph();
       }

/* End of File */
</pre>
</BODY>
</HTML>
