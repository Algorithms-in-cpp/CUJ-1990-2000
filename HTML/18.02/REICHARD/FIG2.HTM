<HTML><HEAD>
<TITLE>February 2000/Shim Classes/Figure 2</TITLE></HEAD>

<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4><A NAME="heading1">Figure 2:	Shim class SGetSize implements GetSize functionality for derived classes</A></h4>
<pre>
class ABase
{
protected:
    virtual size_t GetSize()=0;
    ...
    void UseGetSize()
    {
    ...
    size_t size = GetSize();
    ...
    }
};

template &lt;class Derived, class Base&gt;
class SGetSize : public Base
{
protected:
    virtual size_t GetSize() { return sizeof(Derived);}
};

class CDerivedOne : public SGetSize&lt;CDerivedOne, ABase&gt; {};
class CDerivedTwo: public SGetSize&lt;CDerivedTwo, ABase&gt; {};


</pre></body></html>
