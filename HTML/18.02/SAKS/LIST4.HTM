<HTML><HEAD>
<TITLE>February 2000/C++ Theory and Practice/Listing 4</TITLE></HEAD>

<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4><A NAME="heading1">Listing 4: The cross-reference table class and inline member function definitions, using strings</A></h4>
<pre>
// table.h

#ifndef TABLE_H_INCLUDED
#define TABLE_H_INCLUDED

#include &lt;stddef.h&gt;
#include &lt;string&gt;

#include "deep.h"

class cross_reference_table
    {
public:
    cross_reference_table();
    void add(std::string const &amp;w, unsigned n);
    void put() const;
private:
    struct tree_node;
    static tree_node *add_tree
        (tree_node *t, std::string const &amp;w, unsigned n);
    static void put_tree(tree_node const *t);
    deep_pointer&lt;tree_node&gt; root;
    };

inline
cross_reference_table::cross_reference_table()
    {
    root = NULL;
    }

inline
void cross_reference_table::add
    (std::string const &amp;w, unsigned n)
    {
    root = add_tree(root, w, n);
    }

inline
void cross_reference_table::put() const
    {
    put_tree(root);
    }

#endif
</pre></body></html>
