<HTML><HEAD>
<TITLE>June 1991/Questions & Answers/Listing 3</TITLE></HEAD>

<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4><A NAME="heading1">Listing 3 (test4a.c)</A></h4>
<pre>#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;

extern FILE    *testfile;

/************************************************************
* subroutine R : read a floating point number from test file
*************************************************************/
float
r()
     {
     float    f;
     int      rc;

     rewind(testfile);
     rc = fread(&amp;f, sizeof(float), 1, testfile);
     if (rc != 1)
          {
          printf("R : read error\n");
          exit(0);
          }

     printf("R : \tf : %f\n", f);
     return f;

     }

/*************************************************************
* subroutine W : write a floating point number in test file
*************************************************************/
int
w(f)
float      f;

     {
     int        rc; /* return code */

     printf("W : \tf = %f\n", f);

     rewind(testfile);
     rc = fwrite(&amp;f, sizeof(float), 1, testfile);
     if (rc != 1)
          {
          printf("W : write error\n");
          exit(0);
          }

     return 1;
     }

/* End of File */
</pre>
</BODY>
</HTML>
