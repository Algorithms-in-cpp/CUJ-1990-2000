<HTML><HEAD>
<TITLE>December 1994/Stepping Up To C++/Listing 3</TITLE></HEAD>

<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4><A NAME="heading1">Listing 3 queue&lt;T&gt;::cell <I>and</I> queue&lt;T&gt;::iterator <I>as forward-declared nested classes (does not compile)</I></A></h4>
<pre>Listing 3 -

template &lt;class T&gt;
class queue
   {
private:
   struct cell;               // forward-declaration
   cell *first, *last;
public:
   ...
   class iterator;           // forward-declaration
   friend class iterator;
   };

template &lt;class T&gt;
struct queue&lt;T&gt;::cell        // compiler gags here
   {
   ...
   };

template &lt;class T&gt;
class queue&lt;T&gt;::iterator    // and here
   {
   ...
   };

// End of File
</pre>
</BODY>
</HTML>
