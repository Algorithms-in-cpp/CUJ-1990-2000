<HTML><HEAD>
<TITLE>December 1994/Code Capsules/Listing 5</TITLE></HEAD>

<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4><A NAME="heading1">Listing 5 <I>Illustrates RTTI features</A></I></h4>
<pre>#include &lt;iostream.h&gt;
#include &lt;type_info.h&gt;

main()
{
   B b;
   D d;
   B *bp = &amp;d;

   if (dynamic_cast&lt;D*&gt;(bp))
      cout &lt;&lt; "downcast OK\n";
   else
      cout &lt;&lt; "downcast not OK\n";

   cout &lt;&lt; "b's type name =="
       &lt;&lt; typeid(b).name() &lt;&lt; endl;
   cout &lt;&lt; "d's type name == "
       &lt;&lt; typeid(d).name() &lt;&lt; endl;
   cout &lt;&lt; "bp's type name == "
       &lt;&lt; typeid(bp).name() &lt;&lt; endl;
   cout &lt;&lt; "b and d are "
       &lt;&lt; (typeid(b) == typeid(d)
          ?""
          : "not")
       &lt;&lt; "the same type" &lt;&lt; endl;
   return 0;
}

/* Output:
downcast OK
b's type name == B
d's type name == D
bp's type name == B *
b and d are not the same type
*/
/* End of File */
</pre>
</BODY>
</HTML>
