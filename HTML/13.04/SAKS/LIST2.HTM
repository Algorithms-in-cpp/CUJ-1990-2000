<HTML><HEAD>
<TITLE>April 1995/Stepping Up To C++/Listing 2</TITLE></HEAD>

<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4><A NAME="heading1">Listing 2 <I>A simple const-correct array class template</A></I></h4>
<pre>// array2.cpp

#include &lt;stddef.h&gt;

template &lt;class T&gt;
class array
   {
public:
   array(size_t n = 0);
   array(const array &amp;a);
   ~array();
   array &amp;operator=(const array &amp;a);
   const T &amp;operator[](size_t i) const;
   T &amp;operator[](size_t i);
   size_t length() const;
private:
   T *pa;
   size_t len;
   };

// ...

template &lt;class T&gt;
const T &amp;array&lt;T&gt;::operator[](size_t i) const
   {
   return pa[i];
   }

template &lt;class T&gt;
T &amp;array&lt;T&gt;::operator[](size_t i)
   {
   return pa[i];
   }

template &lt;class T&gt;
inline size_t array&lt;T&gt;::length() const
   {
   return len;
   }

...

template &lt;class T&gt;
T sigma(const array&lt;T&gt; &amp;a)
   {
   T sum = 0;
   for (size_t i = 0; i &lt; a.length(); ++i)
      sum += a[i];
   return sum;
   }
// End of File
</pre>
</BODY>
</HTML>
