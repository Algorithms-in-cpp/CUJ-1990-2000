<HTML><HEAD>
<TITLE>February 1995/Code Capsules/Listing 6</TITLE></HEAD>

<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4><A NAME="heading1">Listing 6 <I>Implementation of Stopwatch Functions</I></A></h4>
<pre>/* timer.c:     Stopwatch Functions */

#include &lt;time.h&gt;
#include "timer.h"

static clock_t start = (clock_t) 0;

/* Reset the timer */
void timer_reset(void)
{
   start = clock();
}

/* Wait a number of seconds */
void timer_wait(double secs)
{
   clock_t stop = clock() +
      (clock_t) (secs* CLOCKS_PER_SEC);
   while (clock() &lt; stop);
      ;
}

/* Compute elapsed time in seconds */
double timer_elapsed(void)
{
   return (double)(clock() - start) / CLOCKS_PER_SEC;
}

/* End of File */
</pre>
</BODY>
</HTML>
