<HTML><HEAD>
<TITLE>February 1995/Code Capsules/Listing 1</TITLE></HEAD>

<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4><A NAME="heading1">Listing 1 <I>A use for</I> CHAR_BIT</A></h4>
<pre>/* bit3.c: Toggle bits in a word */
#include &lt;stdio.h&gt;
#include &lt;limits.h&gt;

#define WORD     unsigned int
#define NBYTES   sizeof(WORD)
#define NBITS    (NBYTES * CHAR_BIT)
#define NXDIGITS (NBYTES * 2)

main()
{
   WORD n: 0;
   int i, j;

   for (j = 0; j &lt; 2; ++j)
      for (i = 0; i &lt; NBITS; ++i)
      {
         n ^= (1 &lt;&lt; i);
         printf("%0*X\n",NXDIGITS,n);
      }

   return 0;
}

/* Output:
0001
0003
0007
000F
001F
003F
007F
00FF
01FF
03FF
07FF
0FFF
1FFF
3FFF
7FFF
FFFF
FFFE
FFFC
FFF8
FFF0
FFE0
FFC0
FF80
FF00
FE00
FC00
F800
F000
E000
C000
8000
0000
*/

/* End of File */
</pre>
</BODY>
</HTML>
