<HTML><HEAD>
<TITLE>February 1995/Standard C/C++/Listing 4</TITLE></HEAD>

<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4><A NAME="heading1">Listing 4 <I>The file</I> strstfre.c</A></h4>
<pre>// strstfreeze -- strstreambuf::freeze(bool)
#include &lt;strstream&gt;

void strstreambuf::freeze(bool freezeit)
       {       // freeze a dynamic string
       if (freezeit &amp;&amp; !(_Strmode &amp; _Frozen))
              {       // disable writing
              _Strmode |= _Frozen;
              _Pendsave = epptr();
              setp(pbase(), pptr(), eback());
              }
       else if (!freezeit &amp;&amp; _Strmode &amp; _Frozen)
              {       // re-enable writing
              _Strmode &amp;= ~_Frozen;
              setp(pbase(), pptr(), _Pendsave);
              }
       }
</pre>
</BODY>
</HTML>
