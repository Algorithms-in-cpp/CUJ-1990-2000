<HTML><HEAD>
<TITLE>February 1995/Questions and Answers/Listing 1</TITLE></HEAD>

<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4><A NAME="heading1">Listing 1 <I>An attempt to use </I>qsort<I> in C++</I></A></h4>
<pre>#include &lt;stdlib. h&gt;

int compare_function(const void * a, const void * b);

class A
   {
private:
   struct DataType
        {
        double x,y;
        } * data;
   int size;
public:
   A();
   A(int n, double *x, double *y);
   void sort();
   };

void A::sort()
   {
   qsort (data, size, sizeof(DataType), compare_function);
   }

int compare_function(const void * a, const void * b)
   {
   const DataType *first = (DataType*) a;
   const DataType *second = (DataType*) b;
//  Ought these declaration be as follows ?
//  const A::DataType *first = (A::DataType*) a;
//  const A::DataType *second = (A::DataType*) b;
   if (first-&gt;x &gt; second-&gt;x)
     return 1;
   else if (first-&gt;x &lt; second-&gt;x)
     return -1;
   else
     return 0;
   }
/* End of File */
</pre>
</BODY>
</HTML>
