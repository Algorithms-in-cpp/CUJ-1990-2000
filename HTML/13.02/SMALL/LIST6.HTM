<HTML><HEAD>
<TITLE>February 1995/Simulating C++ Templates in C and C++/Listing 6</TITLE></HEAD>

<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4><A NAME="heading1">Listing 6 <I>Using synthesized templates in C++</A></I></h4>
<pre>/* formtemp.cpp -- use form templates */

/*
  Generate declarations and definitions for

    int max(int,int);
    stack&lt;char&gt;
/*
#define max_TYPE int
#define stack_ITEM char
#define stack stack_strings
#include "def_gen.cpp"

/*
  Generate declarations and definitions for

    stack&lt;int,10U&gt;
*/
#define stack_ITEM int
#define stack_MAX_ITEMS 10U
#define stack stack_int_10U
#include "def_gen.cpp"

#include &lt;iostream.h&gt;
#include &lt;iomanip.h&gt;

main()
{

   cout &lt;&lt; "Which is greater? "
      &lt;&lt; 4 &lt;&lt;"or"&lt;&lt;"5&lt;&lt;"?";
   cout &lt;&lt;" Answer: "
      &lt;&lt; max(4,5) &lt;&lt; "!" &lt;&lt; endl;

   stack_strings ToDo;

   ToDo.push("wash car");
   ToDo.push("cut grass");
   ToDo.push("buy groceries");
   ToDo.push("cash paycheck");
   while (ToDo.top())
      cout &lt;&lt; ToDo.pop() &lt;&lt; endl;

   stack_int_10U CountDown;

   for (int i = 1; CountDown.push(new int(i)); i++);
   while (CountDown.top())  {
      cout &lt;&lt; *CountDown.top() &lt;&lt; " ";
      delete CountDown.pop();
   }
   cout &lt;&lt; "Blast Off!" &lt;&lt; endl;
   return 0;
}
// End of File
</pre>
</BODY>
</HTML>
