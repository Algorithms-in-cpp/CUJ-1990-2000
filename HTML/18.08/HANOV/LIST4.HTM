<HTML><HEAD>
<TITLE>August 2000/A Lightweight Window Wrapper/Listing 4</TITLE></HEAD>

<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4><A NAME="heading1">Listing 4: Sample application WinMain</A></h4>
<pre>
#include &lt;windows.h&gt;
#include "WndObj.h"

int WINAPI WinMain(HINSTANCE hInstance, HINSTANCE hPrevInst,
                   LPSTR lpszCmdLine, int nCmdShow)
{
    CMainWindow MainWindow;
    CChildWindow ChildWindow;

    //Create the window objects.
    if(NULL == MainWindow.Create(CW_USEDEFAULT, CW_USEDEFAULT,
        CW_USEDEFAULT, CW_USEDEFAULT, NULL, NULL, hInstance))
        return FALSE;
    
    if(NULL == ChildWindow.Create(CW_USEDEFAULT, CW_USEDEFAULT,
        350, 100, MainWindow._hwnd, NULL, hInstance))
        return FALSE;

    MSG Msg; 
    while(GetMessage(&amp;Msg, NULL, 0, 0))
      DispatchMessage(&amp;Msg);

    return Msg.wParam;
}
</pre></body></html>
