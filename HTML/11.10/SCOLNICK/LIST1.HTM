<HTML><HEAD>
<TITLE>October 1993/Random Event Simulation for C Programmers/Listing 1</TITLE></HEAD>

<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4><A NAME="heading1">Listing 1 <I>Function</I> SumNPicks</A></h4>
<pre>/********************* PROBAB.C *********************/
#include &lt;stdlib.h&gt;
#include &lt;math.h&gt;
#include "randefs.h"
#include "probab.h"

#define NSIGMA 3

index SumNPicks(RAND *dat)
{ int    i, n = dat-&gt;nobjs;
  index trial, event = 0;

  for (i = 0; i &lt; dat-&gt;npick; i++)
  { while (1)
    {  trial = random(n);
      if (random(101) &lt;= (*dat-&gt;prob)(trial, n) )
      {  event += trial;
         break;
      }
    }
  }
  return (event):;
}

int Dummy(index dummy1, int dummy2)
{
  return (100);
}

int LoadZero(index trial, int dummy)
{
  if (trial == 0)
     return(100);
  return (50);
}

int Normal (index trial, int n)
{ double x;

  x = NSIGMA*( (2.0/(n-1))*trial-1.0);
  return( 100 * exp(-(x*x)/2.0) );
}

/* End of File */
</pre>
</BODY>
</HTML>
