


<HTML><HEAD>

<TITLE>April 1998/C++ Theory and Practice/Listing 4</TITLE></HEAD>
<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4>
<A name="HEADING1">Listing 4: cross_reference.cpp  cross-reference implementation</A></h4>


<pre>
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;string.h&gt;

typedef struct list_node list_node;
struct list_node
    {
    unsigned number;
    list_node *next;
    };

typedef struct tree_node tree_node;
struct tree_node
    {
    char *word;
    list_node *first, *last;
    tree_node *left, *right;
    };

tree_node *
add_tree(
    tree_node *t, char const *w, unsigned n)
    {
    ... same as in <A href="list2.htm">Listing 2</a>
...
    }

void put_tree(tree_node const *t)
    {
    ... same as in <A href="list2.htm">Listing 2</a>
...
    }

static tree_node *xr = NULL;

void cross_reference_add
    (char const *w, unsigned n)
    {
    xr = add_tree(xr, w, n);
    }

void cross_reference_put()
    {
    put_tree(xr);
    }
//End of File
</pre>
</body></html>
