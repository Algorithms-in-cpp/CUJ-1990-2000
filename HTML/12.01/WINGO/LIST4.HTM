<HTML><HEAD>
<TITLE>January 1994/Porting Microsoft's Foundation Class Library to UNIX/Listing 4</TITLE></HEAD>

<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4><A NAME="heading1">Listing 4 <I>Code that may create memory alignment problems</I></A></h4>
<pre>Class CArchive {
 ...
BYTE * m_lpBufCur;
BYTE * m_lpBufMax;
...
};

AFX_INLINE CArchive&amp; CArchive::operator&lt;&lt;(DWORD dw)
{
       if (m_lpBufCur + sizeof(DWORD) &gt; m_lpBufMax)
                 Flush();
       *(DWORD FAR*)m_lpBufCur = dw;
       m_lpBufCur += sizeof(DWORD);
       return *this;
}

// End of File
</pre>
</BODY>
</HTML>
