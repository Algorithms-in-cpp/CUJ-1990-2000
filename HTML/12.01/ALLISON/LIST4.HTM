<HTML><HEAD>
<TITLE>January 1994/Code Capsules/Listing 4</TITLE></HEAD>

<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4><A NAME="heading1">Listing 4 <I>A class template for homogeneous stacks</I></A></h4>
<pre>// stack.h: A C++ stack class template

#include &lt;stddef.h&gt;

template&lt;class T&gt;
class Stack
{

   size_t size;
   T *data;
   int ptr;

public:
   Stack(size_t);
   ~Stack();
   void push(const T&amp;);
   T pop();
   int empty() const;
   int full() const;
};

template&lt;class T&gt;
inline Stack&lt;T&gt;::Stack(size_t siz)
{
   data = new T[size = siz];
   ptr = 0;
}

template&lt;class T&gt;
inline Stack&lt;T&gt;::~Stack()
{

   delete [] data;
}

template&lt;class T&gt;
void Stack&lt;T&gt;::push(const T&amp; x)
{
   if (ptr &lt; size)
      data[ptr++] = x;
}

template&lt;class T&gt;
T Stack&lt;T&gt;::pop()
{
   if (ptr &gt; 0)
      --ptr;
   return data[ptr];
}

template&lt;class T&gt;
inline int Stack&lt;T&gt;::empty() const
{
   return ptr == 0;
}

template&lt;class T&gt;
inline int Stack&lt;T&gt;::full() const
{
   return ptr == size;
}

// End of File
</pre>
</BODY>
</HTML>
