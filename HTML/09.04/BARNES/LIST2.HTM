<HTML><HEAD>
<TITLE>April 1991/QNX Windows/Listing 2</TITLE></HEAD>

<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4><A NAME="heading1">Listing 2</A></h4>
<pre>EVENT_MSG event;
      /* allocate space for an
      event message */
draw_screen();
      /* put up your window */
for(;;)
{      /* receive the message
      from QNX Windows */
   GetEvent(0, &amp;event,
      sizeof(EVENT_MSG));
      /* extract the message type
       and act appropriately */
   switch(Event(&amp;event))
      {
      case CLICK:
      /* somebody clicked
       the mouse */
         do_something();
         continue;
      case QUIT:
      /* the user wants to quit */
      case TERMINATED:
      /* the server is being
      shut down */
         shutdown();
         exit(0);
      }
}
</pre>
</BODY>
</HTML>
