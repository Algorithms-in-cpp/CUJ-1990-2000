<HTML><HEAD>
<TITLE>March 1999/A Signal Command and Control Class for Unix/Listing 1</TITLE></HEAD>

<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4><A NAME="heading1">Listing 1: Definition of class CmdControl</FONT></h4>
<pre>
//
// CmdControl.h
//
// Header file for command and control class. 
//
//

#ifndef CMDCNTRL
#define CMDCNTRL
#include &lt;map.h&gt;
#include &lt;std/string.h&gt;
#include "CmdQMgr.h"

// define data type for iterator
typedef map &lt;string, void(*)(), less&lt;string&gt; &gt;::iterator rsI;

class CmdControl{

public:
    static void cmd_handler(int);
    CmdControl(int in_signal);
    ~CmdControl();
    void set_action( string cmd_desc, void (*call_function)());
    void unset_action( string cmd_desc);
    int is_used( string cmd_desc);
    void run_cmd(int);
    static map &lt; int, CmdControl *, less&lt;int&gt; &gt; cmd_sigobjref;
        

private:
    map &lt;string, void(*)(), less&lt;string&gt; &gt; run_string;
    CmdQMgr *cmd_msg_object;
    int cmd_signal;
};

#endif

- End of Listing -
</pre>
</BODY>
</HTML>
