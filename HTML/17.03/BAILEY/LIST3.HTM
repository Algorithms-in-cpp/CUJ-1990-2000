<HTML><HEAD>
<TITLE>March 1999/A Signal Command and Control Class for Unix/Listing 3</TITLE></HEAD>

<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4><A NAME="heading1">Listing 3: Definition of class CmdQMgr</A></h4>
<pre>
#ifndef CMDQMGR
#define CMDQMGR
#include &lt;std/string.h&gt;


// enumerate type of user of queue
enum q_usage {creator, sender};

// define class to manage message queues
class CmdQMgr{

public:
    CmdQMgr (int signal_id, int proc_id);
    CmdQMgr (int signal_id);
    ~CmdQMgr(void);
    int send_msg(char *);
    int receive_msg(string&amp; );

private:
    static int cmdq_creator_count;
    q_usage cmdqmgr_origin;
    long cmdqmgr_type;
    int cmdqmgr_signal_id;
    int cmdqmgr_proc_id;
    int cmdqmgr_key;
    int cmdqmgr_queue_id;
};
#endif

- End of Listing -
</pre>
</BODY>
</HTML>
