



<HTML><HEAD>

<TITLE>May 1996/Object Persistence with Relational Databases/Listing 12</TITLE></HEAD>
<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4>
<A name="HEADING1">Listing 12: A persistent class</A></h4>


<pre>

// Employee.h

#if !defined(EMPLOYEE_H)
#define EMPLOYEE_H

#include &lt;afx.h&gt;
#include "Persist.h"

class EmpQuery;
class Connection;

class Employee : public Persist
{
public:
    Employee(Connection* cp,long id = 0L);
    Employee(const EmpQuery&amp;);

    // Accessors:
    CString getLastName() const;
    CString getFirstName() const;
    CString getHomePhone() const;
    long getReportsTo() const;
    void setLastName(const CString&amp;);
    void setFirstName(const CString&amp;);
    void setHomePhone(const CString&amp;);
    void setReportsTo(long);

    // Business Functions:
    Employee* getSuperior() const;

    // Persistence overides:
    virtual BOOL write();
    virtual BOOL remove();

private:
    CString lastName;
    CString firstName;
    CString homePhone;
    long reportsTo;

    // Disabled operations (i.e., not implemented)
    Employee(const Employee&amp;);
    void operator=(const Employee&amp;);
};

#endif

/* End of File */
</pre>
</body></html>
