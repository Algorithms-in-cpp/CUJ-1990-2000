



<HTML><HEAD>

<TITLE>May 1996/Handling Multiple TCP Connections in C++/Listing 2</TITLE></HEAD>
<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4>
<A name="HEADING1">Listing 2: Making a simple TCP connection</A></h4>


<pre>

    ConnectingSocket target_socket(SocketAddr("localhost",7));
    char buffer[10];
    const char send_str [] = "String to send";
    assert( target_socket.write(send_str,strlen(send_str)+1) ==
        StreamSocket::Good );
    StreamSocket::ReadResult result =
        target_socket.read(buffer,sizeof(buffer));
    assert( result.status == StreamSocket::Good &amp;&amp;
         strncmp(send_str,buffer,result.len) == 0 );
//End of File
</pre>
</body></html>
