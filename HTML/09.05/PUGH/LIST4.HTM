<HTML><HEAD>
<TITLE>May 1991/Questions & Answers/Listing 4</TITLE></HEAD>

<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4><A NAME="heading1">Listing 4</A></h4>
<pre>/* CUJ example, Stephen D. Williams, SDW Systems */
#include &lt;stdio.h&gt;
main()
 {
 char *ptr = "hi there george";

 puts(ptr);

 /*  ((long *)&amp;ptr)++; &lt;---incorrect */

 (*((long**)&amp;ptr))++;
 puts(ptr);

 #define ptr_type(type, prt) (*((type**)&amp;ptr))
  puts((char *)++(ptr_type(long,ptr)));
 #undef ptr_type /*  scoped macro*/
  }

 /*
 output:
 hi there george
 here george
  george
 */
</pre>
</BODY>
</HTML>
