<HTML><HEAD><TITLE>September 1990/Using An RPC Protocol To Create A Basic File Server/Listing 7</TITLE></HEAD><BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">
<h4><A name="01F1_012A"><A name="01F1_012A">Listing 7 Application Test Program<A name="01F1_012A"></h4><P>
<pre>#include &lt;stdio.h&gt;
#include &lt;errno.h&gt;
#include "bfs.h"

main()
{

    RFILE *rfd;
    char buf[128];
    
    if((rfd=rfopen("SERVER1!testdata", "r"))==NULL) {
       printf("File Open Error %d!\n", errno);
       perror("testdata");
       exit(errno);
    }
    
    printf("Remote File SERVER! testdata Open!\n");
    
    while(!rfeof(rfd)) {
       rfread(buf, 1, 128, rfd);
       printf("Data=[%s]\n", buf);
    }
    
    rfclose(rfd);

}
</pre>
</BODY></HTML>
