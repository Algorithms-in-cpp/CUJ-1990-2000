<HTML><HEAD>
<TITLE>November 1993/Real-Time Data Acquisition and Control Under Windows 3.1/Listing 3</TITLE></HEAD>

<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4><A NAME="heading1">Listing 3 <I>Program flags</I></A></h4>
<pre>/*
MyFlags.h       Program Codes and/or Errors.

The masks should be ORed with the programs'
status variable to set the flag bit.

To clear a flag bit in the program's status
variable AND with 1's complement of the mask.
*/

unsigned int flag=0; // Program status flag.

#define WRITEFAILED   0x0001 // Write to file failed.
#define WINSIZEICON   0x0002 // Window is minimized.
#define RETAKEDATA    0x0004 // Retry a data reading.
#define SIZEREQUEST   0x0008 // Size of window changed.
#define DEBUGPROGMAN  0x0010 // Info for debugging.
#define DATASTORED    0x0020 // Data loaded in program.
#define GRIDREQUEST   0x0040 // Display grid on graph.
#define AUTOSCALING   0x0080 // Autoscale graph.
#define INITIALIZED   0x1000 // Program variables
// initialized from parameter file at load time.

#define ACQUIRINGDATA Ox4000 // Data acq is running.
#define USERABORT     0x8000 // User aborted last
// operation, e.g. data acq, dialog box, program, etc.
/*

   Common Statements using the program's
   status variable:
   e.g. if (IsAbort) return(FALSE);
/*
#define IsAbort       (flag &amp;   USERABORT)
#define SetAbort      (flag |=  USERABORT)
#define ResetAbort    (flag &amp;= ~USERABORT)

#define IsDataAcq     (flag &amp;   ACQURINGDATA)
#define SetDataAcq    (flag |=  ACQURINGDATA)
#define ResetDataAcq  (flag &amp;= ~ACQURINGDATA)

#define IsRetry       (flag &amp;   RETAKEDATA)
#define SetRetry      (flag |=  RETAKEDATA)
#define ResetRetry    (flag &amp;= ~RETAKEDATA)

#define IsDebug       (flag &amp;   DEBUGPROGMAN)
#define SetDebug      (flag |=  DEBUGPROGMAN)
#define ResetDebug    (flag &amp;= ~DEBUGPROGMAN)

#define IsData        (flag &amp;   DATASTORED)
#define SetData       (flag |=  DATASTORED)
#define ResetData     (flag &amp;= ~DATASTORED)

etc.
etc.
etc.

#define IsResize      (flag &amp;   SIZEREQUEST)
#define SetResize     (flag |=  SIZEREQUEST)
#define ResetResize   (flag &amp;= ~SIZEREQUEST)

/* End of File */
</pre>
</BODY>
</HTML>
