<HTML><HEAD>
<TITLE>November 1993/Real-Time Data Acquisition and Control Under Windows 3.1/Listing 4</TITLE></HEAD>

<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4><A NAME="heading1">Listing 4 <I>A basic timer function</I></A></h4>
<pre>/*
  Hang until delay has expired.

  delay in milliseconds
*/
BOOL Sleep( long delay ) {
  long  timer,   // current time
       base,    // starting time
       elapsed; // time spent in loop

  if ( !delay ) return(FALSE);
  base = clock();
  if ( base == -1 ) return(FALSE);
  do {
    timer = clock();
    if ( timer == -1L ) return(FALSE);
    elapsed = timer - base;
  } while ( delay &gt; elapsed );
  return(TRUE);
}

/* End of File */
</pre>
</BODY>
</HTML>
