






<HTML>
     
     <HEAD>


          
          <TITLE>July 1996/Better Pipes for Windows/Listing 5</TITLE>
     </HEAD>
     
     <BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">
          
          <H4>Listing 5: Server code to start listener threads</H4>

<PRE>

    for (int i=0; i&lt;NumThreads; i++) {
        unsigned Tid;
    
        ppThread[i] = new srv_cThread("\\\\.\\PIPE\\MYPIPE.PIP",
                hEventShutdown, ClientConnectTimeOut);
    
        phThread[i] = (HANDLE) _beginthreadex(NULL, 0, ServerThread,
            ppThread[i], 0, &amp;Tid);
    
        if (!phThread[i]) {
            printf("Failure: _beginthreadex() -- errno = %u\n",
                   _errno);
        }
    }
//End of File
</PRE>
     </BODY>
</HTML>
