<HTML><HEAD>
<TITLE>May 1993/Code Capsules/Listing 2</TITLE></HEAD>

<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4><A NAME="heading1">Listing 2 <I>Copies files via explicit file pointers</I></A></h4>
<pre>/* copy3.c */

#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;

main(int argc, char *argv[])
{
   if (argc == 3)
   {
      char s[BUFSIZ];
      FILE *inf, *outf;

      if ((inf = fopen(argv[1],"r")) == NULL)
          return EXIT_FAILURE;

      if ((outf = fopen(argv[2],"w")) == NULL)
          return EXIT_FAILURE;

      while (fgets(s,BUFSIZ,inf))
          fputs(s,outf);

      fclose(inf);
      fclose(outf);
      return EXIT_SUCCESS;
   }
   else
      return EXIT_FAILURE
}
/* End of File */
</pre>
</BODY>
</HTML>
