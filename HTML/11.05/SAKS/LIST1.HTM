<HTML><HEAD>
<TITLE>May 1993/Stepping Up To C++/Listing 1</TITLE></HEAD>

<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4><A NAME="heading1">Listing 1 float_array <I>class definition</I></A></h4>
<pre>// fa1.h - a dynamic array of float using a subscripting 
// object

#include &lt;iostream.h&gt;

class fa_index
       {
       friend class float_array;
public:
       fa_index &amp;operator=(float f);
       operator float();
private:
       fa_index(float_array *f, size_t i);
       float_array *fa;
       size_t ix;
       };

class float_array
       {
       friend class fa_index;
public:
       float_array(size_t n = 0);
       float_array(const float_array &amp;fa);
       ~float_array();
       float_array &amp;operator=(const float_array &amp;fa);
       float operator[](size_t i) const;
       fa_index operator[](size_t i);
       size_t length() const;
private:
       void extend(size_t i);
       float *array;
       size_t len;
       };

ostream &amp;operator&lt;&lt;(ostream &amp;os, const float_array &amp;fa);

inline size_t float_array::length() const
       {
       return len;
       }
/* End of File */
</pre>
</BODY>
</HTML>
