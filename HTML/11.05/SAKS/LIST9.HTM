<HTML><HEAD>
<TITLE>May 1993/Stepping Up To C++/Listing 9</TITLE></HEAD>

<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4><A NAME="heading1">Listing 9 <I>Code illustrating a base class accessible only in certain contexts</I></A></h4>
<pre>// test conversions from derived to base using
// non-public base classes

class B
       {
public:
       int i;
       };

class T : protected B
       {
public:
       void foo();
       };

void T::foo()
       {
       T t;
       B *p = &amp;t;   // ok, B accessible
       }

class V : private B
       {
public:
       void bar();
       };

void V::bar()
       {
       V v;
       B &amp;r = v;    // ok, B accessible
       }

int main()
       {
       T t;
       V v;
       B *p = &amp;t;    // error, B not accessible
                   // base of T
       B &amp;r = v;     // error, B not accessible
                   // vase of V
       return 0;
       }
/* End of File */</pre>

</BODY>
</HTML>
