<HTML><HEAD>
<TITLE>November 1994/Code Capsules/Listing 21</TITLE></HEAD>

<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4><A NAME="heading1">Listing 21 <I>Replaces global operator </I> new<I> and operator</I> delete</A></h4>
<pre>// override.cpp
#include &lt;iostream.h&gt;
#include &lt;stdlib.h&gt;

void *operator new(size_t siz)
{
   cout &lt;&lt; "allocating " &lt;&lt; siz &lt;&lt; " bytes" &lt;&lt; endl;
   return malloc(siz);
}
void operator delete(void *p)
{
   cout &lt;&lt; "deleting memory at " &lt;&lt; (void *)p &lt;&lt; endl;
   free(p);
}

main()
{
   double *dp = new double;
   delete dp;
   return 0;
}

/* Output:
allocating 8 bytes
deleting memory at 0x19e0
*/
// End of File
</pre>
</BODY>
</HTML>
