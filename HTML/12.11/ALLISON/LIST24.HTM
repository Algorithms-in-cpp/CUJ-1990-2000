<HTML><HEAD>
<TITLE>November 1994/Code Capsules/Listing 24</TITLE></HEAD>

<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4><A NAME="heading1">Listing 24 <I>Illustrates the behavior of class-specific </I>new<I> and </I>delete <I>(see <a href="list23.htm">Listing 23</a>)</A></I></h4>
<pre>// class.cpp
#include &lt;iostream.h&gt;
#include "t.h"

main()
{
   cout &lt;&lt; "allocating a T:" &lt;&lt; endl;
   T *t1 = new T;
   cout &lt;&lt; endl;

   cout &lt;&lt; "allocating an array of 3 T's:" &lt;&lt; endl;
   T *t2 = new T[3];
   cout &lt;&lt; endl;

   cout &lt;&lt; "allocating a T with initialization:" &lt;&lt; endl;
   T *t3 = new T(2);
   cout &lt;&lt; endl;

   cout &lt;&lt; "allocating a U:" &lt;&lt; endl;
   U *u1 = new U;
   cout &lt;&lt; endl;

   cout &lt;&lt; "allocating an array of 2 U's:" &lt;&lt; endl;
   U *u2 = new U[2];
   cout &lt;&lt; endl;

   cout &lt;&lt; "deleting a T:" &lt;&lt; endl;
   delete t1;
   cout &lt;&lt; endl;

   cout &lt;&lt; "deleting the array of 3 T's:" &lt;&lt; endl;
   delete [] t2;
   cout &lt;&lt; endl;

   cout &lt;&lt; "deleting another T:" &lt;&lt; endl;
   delete t3;
   cout &lt;&lt; endl;

   cout &lt;&lt; "deleting the U:" &lt;&lt; endl;
   delete u1;
   cout &lt;&lt; endl;

   cout &lt;&lt; "deleting the array of 2 U's:" &lt;&lt; endl;
   delete [] u2;
   cout &lt;&lt; endl;

   return 0;
}

// End of File
</pre>
</BODY>
</HTML>
