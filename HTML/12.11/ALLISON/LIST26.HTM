<HTML><HEAD>
<TITLE>November 1994/Code Capsules/Listing 26</TITLE></HEAD>

<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4><A NAME="heading1">Listing 26<I> A placement operator </I>new<I> with two arguments</A></I></h4>
<pre>// overload.cpp
#include &lt;iostream.h&gt;

void *operator new(size_t siz, void *arg1, int arg2)
{
    cout &lt;&lt; "new: siz == " &lt;&lt; siz
        &lt;&lt; ", arg1 == " &lt;&lt; (void *) arg1
        &lt;&lt; ", arg2 == " &lt;&lt; arg2 &lt;&lt; endl;
    return arg1;
}

main()
{
    void *p = (void *) 0x1234;
    int *ip = new (p,100) int;
    cout &lt;&lt; "ip == " &lt;&lt; (void *) ip &lt;&lt; endl;
    return 0;
}

/* Output:
new: siz == 2, arg1 == 0x1234, arg2 == 100
ip == 0x1234
*/
// End of File
</pre>
</BODY>
</HTML>
