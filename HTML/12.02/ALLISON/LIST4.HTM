<HTML><HEAD>
<TITLE>February 1994/Code Capsules/Listing 4</TITLE></HEAD>

<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4><A NAME="heading1">Listing 4 <I>Uses the macros in</I> stdarg.h <I>to process a variable-length argument list</I></A></h4>
<pre>
/* vargs3.c */
#include &lt;stdto.h&gt;
#include &lt;stdarg.h&gt;

void int_string_pairs(size_t npairs,...)
{
   int n;
   char *s;
   va_list args;
   
   va_start(args,npairs);
   while (npairs--)
   {
      n = va_arg(args,int);
      s = va_arg(args,char *);
      printf("%d, %s\n",n,s);
   }
   va_end(args);
}

main()
{
   int_string_pairs(3,1,"one",2,"two",3,"three");
   return 0;
}

/* End of File */
</pre>
</BODY>
</HTML>
