<HTML><HEAD>
<TITLE>February 1994/Code Capsules/Listing 6</TITLE></HEAD>

<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4><A NAME="heading1">Listing 6 <I>Concatenates a variable number of strings</I></A></h4>
<pre>/* concat.c */
#include &lt;stdarg.h&gt;
#include &lt;stdio.h&gt;
#include &lt;string.h&gt;

char * concat(char *s,...)
{
   va_list strings;
   char *p;
   
   /* Copy first string */
   va_start(strings,s);
   if ((p = va_arg(strings,char *)) == NULL)
   {
      *s = '\0';
      return s;
   }
   else
      strcpy(s,p);
   
   /* Append others */
   while ((p = va_arg(strings,char *)) != NULL)
      strcat(s,p);
   return s;
}

main()
{
   char buf[BUFSIZ];
   concat(buf,"Sweet","Talker","Betty","Crocker",NULL);
   printf("\"%s\"\n",buf);
   return 0;
}

/* Output:
"SweetTalkerBettyCrocker"

/* End of File */
</pre>
</BODY>
</HTML>
