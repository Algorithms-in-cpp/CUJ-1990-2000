<HTML><HEAD>
<TITLE>February 1994/Intuitive Access to Bit Arrays/Listing 2</TITLE></HEAD>

<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4><A NAME="heading1">Listing 2<I> Accompanies file</I> bitarr.h</A></h4>
<pre>//file: BitArr.cpp copyright 1994 by Siegfried Heintze
#include "BitArr.h"

ostream&amp; operator&lt;&lt;(ostream&amp; os, const BitArray &amp; bv){
  for(int ii = bv.first(); ii&lt;=bv.last(); ii++){
    os &lt;&lt; bv[ii] &lt;&lt; " ";
  }
  return os;
}

BitArray reverse(const BitArray&amp; src){
  BitArray result(src);
  for(int ii = src.first(); ii&lt;= src.last(); ii++)
    result[src.last()-ii] = src[ii];
  return result;
}

struct X{
  X(unsigned long x){
    cout&lt;&lt;"create X, x = "&lt;&lt;hex&lt;&lt;x;
  }
};
void f(const X&amp;){
  cout&lt;&lt;" Fuction f"&lt;&lt;endl;
}

main(){
  cout &lt;&lt; "begin"&lt;&lt;endl;
  
  BitArray x(1, 0x8aaa71b5ul);
  cout &lt;&lt; reverse(x) &lt;&lt; endl;
  x[3] = x[2] = x[1] = 1;
  cout &lt;&lt; reverse(x) &lt;&lt;endl;
  
  const BitArray xx = x;
  f(xx[1]);
  
  BitArray y(4, 0x8aaa71b5ul);
  cout &lt;&lt; reverse(y) &lt;&lt; endl;
  y[7]=13
  y[1]=15;
  cout &lt;&lt; reverse(y) &lt;&lt; endl;
  
  BitArray z(16, 0x8aaa71b5ul);
  cout &lt;&lt; reverse(z) &lt;&lt; endl;
  z[1]=15;
  cout &lt;&lt; reverse(z) &lt;&lt; endl;
  
  return 0; }

// End of File</pre>

</BODY>
</HTML>
