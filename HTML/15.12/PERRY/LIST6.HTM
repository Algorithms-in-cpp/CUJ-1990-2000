


<HTML><HEAD>

<TITLE>December 1997/Image Compression Using Laplacian Pyramid Encoding/Listing 6</TITLE></HEAD>
<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">
<h4>Listing 6:	The Quantize function</h4>

<pre>
void LP::Quantize ()
{
    // Quantize by removing least significant bits

    for (unsigned level = 0; level &lt; _levels; level++)
    {
        if (_bpp[level] &gt; 8)
            throw "Bits per pixel is out of range";

        if (_bpp[level] == 8)
            continue;

        unsigned char *image = _l_images[level];

        for (unsigned index = 0; 
            index &lt; (_width &gt;&gt; level) * (_height &gt;&gt; level); 
            index++)
        {
            // Shift off the bits

            image[index] = image[index] &gt;&gt; (8 - _bpp[level]);
        }
    }
}
//End of File
</pre>
</body></html>
