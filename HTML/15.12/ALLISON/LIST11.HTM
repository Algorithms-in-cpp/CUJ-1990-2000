



<HTML><HEAD>

<TITLE>December 1997/Error Handling with C++ Exceptions, Part 2/Listing 11</TITLE></HEAD>
<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">
<h4>Listing 11:	Handy exception macros</h4>

<pre>
// xcept.h:    Useful throw macros

#include &lt;exception&gt;
#include &lt;string&gt;

// Macro trick to quote a number:
#define str_(x) #x
#define xstr_(x) str_(x)

// Macro for convenient exception throwing
// (includes standard message, file, line #)
#define Throw(Type, cod) \
throw Type ## _Exception(Type ## _Exception:: ## cod, \
                         std::string(__FILE__ ## ":Line "
                         ## xstr_(__LINE__)))

#define Throw2(Type, cod, txt) \
throw Type ## _Exception(Type ## _Exception:: ## cod, \
                         txt + std::string(":" ## \
                         __FILE__ ## ":Line " ## \
                         xstr_(__LINE__)))
//End of File
</pre>
</body></html>
