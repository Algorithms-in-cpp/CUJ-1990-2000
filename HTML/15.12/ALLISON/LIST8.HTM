



<HTML><HEAD>

<TITLE>December 1997/Error Handling with C++ Exceptions, Part 2/Listing 8</TITLE></HEAD>
<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">
<h4>Listing 8:	Illustrates exception specifications and set_unexpected</h4>

<pre>
// unexpect.cpp
#include &lt;iostream&gt;
#include &lt;except.h&gt;
#include &lt;stdlib.h&gt;

main()
{
    void f() throw();
    void handler();
    
    set_unexpected(handler);
    f();
}

void f() throw()
{
    throw 1;
}

void handler()
{
    cout &lt;&lt; "Detected unexpected exception\n";
    exit(EXIT_FAILURE);
}

// Output:
Detected unexpected exception
//End of File
</pre>
</body></html>
