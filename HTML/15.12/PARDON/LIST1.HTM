



<HTML><HEAD>

<TITLE>December 1997/User Report: Creating Programmable Diagrams with VisualAge for C++/Listing 1</TITLE></HEAD>
<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">
<H4>Listing 1:	SCDrawingArea.hpp </H4>

<pre>
class _Export SCDrawingArea : public IDrawingCanvas,
                  public IMouseHandler {
public:
  SCDrawingArea(unsigned long id, IWindow * parent,IWindow * owner,
                const IRectangle &amp; rect = IRectangle(), 
                const IDrawingCanvas::Style &amp; style = 
                  IDrawingCanvas::defaultStyle());

  virtual ~SCDrawingArea ( );

  SCDrawingArea&amp; openDiagram();

  virtual SCElementView *selectedElement(IPoint point);
  virtual SCElementView *selectedElement();

  virtual SCDrawingArea&amp; addAsFirst(SCElementView&amp;);
  virtual SCDrawingArea&amp; addAsLast (SCElementView&amp;);

protected:
  virtual SCDrawingArea&amp; prepareGraphic(SCElementView&amp; graphic);

  virtual IGList * graphicList() const;  // hide it from "public"

  virtual Boolean
     mouseMoved           ( IMouseEvent&amp;        event ),
     mouseClicked         ( IMouseClickEvent&amp;   event ),
     mousePointerChange   ( IMousePointerEvent&amp; event );

  virtual SCDrawingArea
    &amp;button1Down         ( const IPoint&amp; point ),
    &amp;button1Up           ( const IPoint&amp; point ),
    &amp;button1DoubleClick  ( const IPoint&amp; point ),
    &amp;button2Click        ( const IPoint&amp; point ),
    &amp;button2Down         ( const IPoint&amp; point ),
    &amp;button2Up           ( const IPoint&amp; point ),
    &amp;button2DoubleClick  ( const IPoint&amp; point );

private:
 IGraphicContext    gc;
 SCElementView*     moveGraphic;
 SCElementView*     selectedGraphic;
 IGRectangle        moveRect;
 IPoint             startingPt;
 IPoint             previousPt;
};
//End of File
</pre>
</body></html>
