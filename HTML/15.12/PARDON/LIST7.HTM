


<HTML><HEAD>

<TITLE>December 1997/User Report: Creating Programmable Diagrams with VisualAge for C++/Listing 7</TITLE></HEAD>
<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">
<h4>Listing 7:	SCDrawingArea::button2Up</h4>

<pre>
/*************************************************************/
SCDrawingArea&amp; SCDrawingArea::button2Up( const IPoint&amp; point )
/*************************************************************/
{
  if (moveGraphic) {
     if ( point != startingPt) {
        moveRect.translateBy( point - previousPt );
        moveRect.drawOn( gc );
        moveRect.resetTransformMatrix();
        refresh( moveRect.boundingRect(gc).expandBy(1) );
        int xNew =
          moveGraphic-&gt;xPosition() + point.x() - startingPt.x();

        int yNew =
          moveGraphic-&gt;yPosition() + point.y() - startingPt.y();
        moveGraphic-&gt;moveTo(xNew, yNew);
     }
     moveGraphic = 0;
     capturePointer(false);
 }
 return *this;
}
//End of File
</pre>
</body></html>
