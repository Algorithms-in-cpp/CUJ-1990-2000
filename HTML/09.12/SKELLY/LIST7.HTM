<HTML><HEAD>
<TITLE>December 1991/Creating C++-Like "Objects" In C/Listing 7</TITLE></HEAD>

<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4><A NAME="heading1">Listing 7</A></h4>
<pre>#include "obj.h"

/* get the color */
static int circle_getcolor(CIRCLE *pc)
   {   return pc<I>-</I>&gt;color;   }

/* set color */
static int circle_setcolor(CIRCLE *pc, int color)
   {   return (pc<I>-</I>&gt;color = color );   }

/* create an "action package" for CIRCLEs */
static CIRCLE_ACTIONS cact =
   {circle_setcolor, circle_getcolor};

/* and a "constructor" for a new circle */
constructor(CIRCLE *pc, int color)
   {
   pc<I>-</I>&gt;color = color;

   /* constructor can access the private action package! */

   /* constructor hooks up actions */
   pc<I>-</I> pcact = &amp;cact;
   }

/* End of File */
</pre>
</BODY>
</HTML>
