<HTML><HEAD>
<TITLE>December 1991/Creating C++-Like "Objects" In C/Listing 3</TITLE></HEAD>

<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4><A NAME="heading1">Listing 3</A></h4>
<pre>#include &lt;stdio.h&gt;
#include "obj.h"

#define SETCOLOR 0
#define GETCOLOR 1

extern CIRCLE_ACTIONS cact;

main()
   {
   int col;

   /* create CIRCLE c */
   CIRCLE c = { 14, &amp;cact };

   /* use GETCOLOR message to get c's color */
   col = (*(c1.pcact<I>-</I>&gt;pactions[GETCOLOR]))(&amp;c1);
   printf("c1 is color %d\n", col);


   /* use SETCOLOR message to set new color */
   (*(c1.pcact<I>-</I>&gt;pactions[SETCOLOR]))(&amp;c1, 7);


   /* get the new color */
   col = (*(c1.pcact<I>-</I>&gt;pactions[GETCOLOR]))(&amp;c1);
   printf("c1 is now color %d\n", col);
   }

/* End of File */
</pre>
</BODY>
</HTML>
