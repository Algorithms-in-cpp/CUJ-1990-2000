



<HTML><HEAD>

<TITLE>October 1997/Using Motif Callbacks in C++/Listing 7</TITLE></HEAD>
<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">
<h4>Listing 7:	A version of PrintDialog using addCallback</h4>

<pre>
//
// Note that we don't need any
// static functions, pointer
// passsing, or casting on
// anything.

#include "Callback.h"

class PrintDialog {
   Widget okButton;
   Widget cancelButton;
   Widget printerList;

   char *printerName;

public:
    PrintDialog(Widget parent);

    void okCallback(Widget,
                    XtPointer,
                    XtPointer);
};

PrintDialog::PrintDialog(Widget parent)
{
    ...
    okButton = XmCreatePushButton(parent,
                                  "OK",
                                  NULL,
                                  0);
    addCallback(this,
                okCallback, okButton,
                XmNactivateCallback
                NULL);
    ...
}

void PrintDialog::okCallback(Widget w,
                             XtPointer user_data,
                             XtPointer call_data)
{

    cout &lt;&lt; "Selected Printer: " &lt;&lt; printerName &lt;&lt; endl;
}

int main()
{
    ...
    PrintDialog *pd = new PrintDialog(parent);
    ...
}
//End of File
</pre>
</body></html>
