



<HTML><HEAD>

<TITLE>October 1997/Using Motif Callbacks in C++/Listing 3</TITLE></HEAD>
<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">
<h4>Listing 3:	Second attempt at callbacks in C++</h4>

<pre>
class PrintDialog {
   Widget okButton;
   Widget cancelButton;
   Widget printerList;

   char *printerName;

public:
    PrintDialog(Widget parent);

    static void okCallback(Widget,
                           XtPointer,
                           XtPointer);
};

PrintDialog::PrintDialog(Widget parent)
{
    ...
    okButton = XmCreatePushButton(parent,
                                  "OK",
                                  NULL,
                                  0);

    XtAddCallback(okButton,            // &lt;-- This compiles
                  XmNactivateCallback,
                  okCallback,
                  NULL);
    ...
}

void PrintDialog::okCallback(Widget w, XtPointer user_data,
                             XtPointer call_data)
{
    cout &lt;&lt; "Selected Printer: "
         &lt;&lt; printerName &lt;&lt; endl;     // &lt;--- But this doesn't
}

int main()
{
    ...
    PrintDialog *pd = new PrintDialog(parent);
    ...
}
//End of File
</pre>
</body></html>
