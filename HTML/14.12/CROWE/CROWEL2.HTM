






<HTML>
     
     <HEAD>


          
          <TITLE>December 1996/Efficient Band Matrix Computations/Listing 2</TITLE>
     </HEAD>
     
     <BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">
          
          <H4>Listing 2: A class for SPD arrays</H4>
          
          <BLOCKQUOTE>

<PRE>

#ifndef SPDBAND_H
#define SPDBAND_H

#include "bandstor.h"

template &lt;class T&gt; class SPDBandMatrix : public bandStorage&lt;T&gt;
{
private:

public:
    SPDBandMatrix() {}
    SPDBandMatrix(const SPDBandMatrix&amp;);
    SPDBandMatrix(const int k) : bandStorage&lt;T&gt;(k) {}
    vector&lt;T&gt;&amp; diagonal(const int);
    void setDiag(const int, const T);
    inline int&amp; bandWidth(void) {return lowerBandWidth();}
};

template &lt;class T&gt;
    SPDBandMatrix&lt;T&gt;::SPDBandMatrix(const SPDBandMatrix&lt;T&gt;&amp; m)
{
    bandStorage&lt;T&gt;::bandStorage(*this);
}

template &lt;class T&gt; vector&lt;T&gt;&amp; SPDBandMatrix&lt;T&gt;::diagonal(const int i)
{
    return bandStorage&lt;T&gt;::diag(int(-fabs(i)));
}

template &lt;class T&gt; void SPDBandMatrix&lt;T&gt;::setDiag(const int i, const T s)
{
    vector&lt;T&gt; diag(order()-i);
    diag = s;
    bandStorage&lt;T&gt;::diag(int(-fabs(i))) = diag;
}

#endif
//End of File
</PRE>  </BLOCKQUOTE>
     </BODY>
</HTML>
