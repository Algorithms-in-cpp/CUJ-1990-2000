<HTML><HEAD>
<TITLE>September 1993/cout and cerr for Windows/Listing 11</TITLE></HEAD>

<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4><A NAME="heading1">Listing 11 <I>Header file for </I>testcout.cpp</A></h4>
<pre>// testcout.h
// header file for testing windows cout and cerr

#include   "CStrWnd.h"
#include   "ostrwnd.h"
#include   "winstrm.h"

class App : public CWinApp
{
public:
BOOL InitInstance ();
int ExitInstance ();

#if defined (_DEBUG)
   void set_exit_code (int code)
      // only update if not already set
      {if (exit_code == 0) exit_code = code;}
#endif

private:
winstreambuf * cerrbuf, *coutbuf;
ostreamWnd * cerr_window;
#if defined (_DEBUG)
   int exit_code;
   CMemoryState start, end, difference;
#endif
};

class CMainWindow : public CMDIFrameWnd
{
public:
CMainWindow ();
afx_msg void OnClose ();
afx_msg void OnAbout ();
afx_msg void OnTest ();

DECLARE_MESSAGE_MAP ();
};

// End of File
</pre>
</BODY>
</HTML>
