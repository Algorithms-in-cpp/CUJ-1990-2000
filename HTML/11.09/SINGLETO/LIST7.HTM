<HTML><HEAD>
<TITLE>September 1993/cout and cerr for Windows/Listing 7</TITLE></HEAD>

<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4><A NAME="heading1">Listing 7  <I>Header file for </I>winstrm.cpp</A></h4>
<pre>// winstrm.h

#include   "ostrwnd.h"

const int winstreambuf_buf_size = 128;
class winstreambuf : public streambuf
{
public:
winstreambuf ();
virtual int sync ();
virtual int overflow (int nCh);
virtual int underflow ()
   {return EOF;}
void set_stream_window (ostreamWnd * wnd)
   {stream_window = wnd;}

private:
void reset_buffer ()
   {setp (buffer, buffer + winstreambuf_buf_size - 2);}
   // Keep epptr within buffer!

char buffer [winstreambuf_buf_size];
ostreamWnd * stream_window;
};

// End of File
</pre>
</BODY>
</HTML>
