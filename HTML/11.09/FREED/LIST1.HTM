<HTML><HEAD>
<TITLE>September 1993/Guidelines for Signal Processing Applications in C/Listing 1</TITLE></HEAD>

<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4><A NAME="heading1">Listing 1<I> Example of a coding style commonly used to achieve performance with early, low-quality C compilers</A></I></h4>
<pre>sun_vaddosb(vect_in1,incr_in1,vect_in2,incr_in2,
             vect_out,incr_out,vect_length)
float *vect_in1, *vect_n2, *vect_out;
int vect_length, incr_in1, incr_in2, incr_out;

{

       register float tmp, tmp_1, tmp_2,
       
       if((incr_in1 == 1) &amp;&amp; (incr_in2 == 1) &amp;&amp; (incr_out == 1))
       {
              while(vect_length--)
              {
                     tmp_1 = *vect_in1++;
                     tmp_2 = *vect_in2++;
                     tmp   = tmp_1 - tmp_2;
                     
                     *vect_out++ = (tmp_1 + tmp_2) / tmp;
              }
       }
       else
       {
       while(vect_length--)
              {
              tmp_1 = *vect_in1;
              tmp_2 = *vect_in2;
              tmp   = tmp_1 - tmp_2;
              
              *vect_out = (tmp_1 + tmp_2) /tmp;
              
              vect_in1 += incr_in1;
              vect_in2 += incr_in2;
              vect_out += incr_out;
       }
     }
 }

/* End of File */
</pre>
</BODY>
</HTML>
