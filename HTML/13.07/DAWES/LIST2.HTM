<HTML><HEAD>
<TITLE>July 1995/You Can Count On It/Listing 2</TITLE></HEAD>

<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4><A NAME="heading1">Listing 2 <I>Count2 program</A></I></h4>
<pre>#include &lt;cstring.h&gt;
#include &lt;iomanip.h&gt;
#include &lt;algo.h&gt;
#include &lt;map.h&gt;

struct long_t { long v; long_t() : v(O) {} };

typedef map&lt; string, long_t, less&lt;string&gt; &gt; map_t;

static inline int show_m( const map_t::value_type&amp; x )
  { cout &lt;&lt; setw(7) &lt;&lt; x.second.v &lt;&lt; "-" &lt;&lt; x.first &lt;&lt; endl; }

int main() {

  map_t    ct_map;
  string   str:

  while ( cin &gt;&gt; str ) ++ct_map[str].v;

  for_each( ct_map.begin(), ct_map.end(), ptr_fun( show_m ) );

  return EXIT_SUCCESS:
  }
// End of File
</pre>
</BODY>
</HTML>
