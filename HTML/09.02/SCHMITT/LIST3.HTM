<HTML><HEAD>
<TITLE>February 1991/Reviving The UNIX sbrk Function/Listing 3</TITLE></HEAD>

<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4><A NAME="heading1">Listing 3 The <I>savesym </I>Function</A></h4>

<pre>SYMBOL *savesym(SYMBOL *s)
{
int size;
SYMBOL *p;

size = sizeof (SYMBOL) + strlen(s-&gt;symbol);
#ifdef LHEAP
p = sbrk(size);
if(p == (void *)(-1)) return(NULL);
#else
p = malloc(size);
#endif
if(p) memcpy(p,s,size);
return(p);
}
</pre>
</BODY>
</HTML>
