<HTML><HEAD>
<TITLE>May 1995/Code Capsules/Listing 22</TITLE></HEAD>

<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4><A NAME="heading1">Listing 22 <I>Adds the assignment operator and copy constructor to the </I>Person<I> class</A></I></h4>
<pre>//person3.cpp
#include &lt;iostream.h&gt;
#include &lt;string.h&gt;
#include &lt;new.h&gt;         // for placement new
#include "person3.h"

Person::Person(const Person &amp; p)
  : birth(p.birth)
{
   last = clone(p.last);
   first = clone(p.first);
   ssn = clone(p.ssn);
}

Person &amp; Person::operator=(const Person &amp; p)
{
   if (this != &amp;p)
   {
      this-&gt;Person::~Person();
      new (this) Person(p);
   }
   return *this;
}

// (other functions as in Listing 20)
// End of File
</pre>
</BODY>
</HTML>
