<HTML><HEAD>
<TITLE>May 1995/Code Capsules/Listing 2</TITLE></HEAD>

<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4><A NAME="heading1">Listing 2 <I>Implementation for the </I>Date<I> type</A></I></h4>
<pre>/* date.c */

#include &lt;stdio.h&gt;
#include "date.h"

static const char *month_text[] =
   {"Bad month", "January", "February",
   "March", "April","May", "June", "July",
   "August", "September", "October",
   "November", "December"};

char *date_format(const Date *dp, char *buf)
{
   sprintf(buf,s %d, %d",
          month_text[dp-&gt;month],dp-&gt;day,
          dp-&gt;year);
   return buf;
}

int date_compare(const Date *dp1,
              const Date *dp2)
{
   int result = dp1-&gt;year - dp2-&gt;year;
   if (result == 0)
      result = dp1-&gt;month - dp2-&gt;month;
   if (result == 0)
      result = dp1-&gt;day - dp2-&gt;day;
   return result;
}

/* End of File */
</pre>
</BODY>
</HTML>
