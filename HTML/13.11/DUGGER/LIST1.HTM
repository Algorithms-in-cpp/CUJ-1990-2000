<HTML><HEAD>
<TITLE>November 1995/Multithreading in C++/Listing 1</TITLE></HEAD>

<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4><A NAME="heading1">Listing 1 mutex <I>class definition</I></A></h4>
<pre>#ifndef mutex_sem_class
#define mutex_sem_class
/*
Module Header : mutex.h
Function: Used at the top of nonreentrant functions, this limits
        access to function to one thread at a time.
*/

#define INCL_DOSSEMAPHORES
#include &lt;os2.h&gt;

class mutex {
   protected:
      char      *sem_name;            // name of semaphore
      HMTX      handle;               // semaphore handle
      APIRET    rc;                   // API return code

   private:
      mutex();                        // keeps user from using this

   public:
      mutex( const char const* name); // create sem_block stracture
      ~mutex();                       // auto-destructor

};
#endif
/*End of File */
</pre>
</BODY>
</HTML>
