<HTML><HEAD>
<TITLE>November 1992/Code Capsules/Listing 5</TITLE></HEAD>

<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4><A NAME="heading1">Listing 5<B></B> append.c <B>&#151;<I></B> appends a formatted string to another string</I></A></h4>
<pre>/* append.c:    Append a formatted string to another string */
#include &lt;stdio.h&gt;
#include &lt;string.h&gt;
#include &lt;stdarg.h&gt;
#define WIDTH 80
char *append(char *s, char *fmt, ...)
{
   if (s != NULL &amp;&amp; fmt)
   {
      va_list args;
      va_start(args,fmt);
      vsprintf(s+strlen(s),fmt,args);
      va_end(args);
   }
   return s;
}

main()
{
   char s[WIDTH +1] = "We're";
   append(s," number %d!\n",1);
   puts(s);
   return 0;
}

Output:
/* We're number 1! */
/* End of File */</pre>

</BODY>
</HTML>
