<HTML><HEAD>
<TITLE>November 1992/Code Capsules/Listing 4</TITLE></HEAD>

<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4><A NAME="heading1">Listing 4<B></B> <B><I></B>fatal.c &#151; prints an error message and then exits the program</I></A></h4>
<pre>/* fatal.c:  Exit program with an error message */

#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;stdarg.h&gt;
#include &lt;string.h&gt;

void fatal(char *fmt, ...)
{
   va_list args;
   
   if (fmt != NULL &amp;&amp; strlen(fmt) &gt; 0)
   {
      va_start(args,fmt);
      vfprintf(stderr,fmt,args);
      va_end(args);
   }
   exit(EXIT_FAILURE);
}
/* End of File */
</pre>
</BODY>
</HTML>
