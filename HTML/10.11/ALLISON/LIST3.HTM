<HTML><HEAD>
<TITLE>November 1992/Code Capsules/Listing 3</TITLE></HEAD>

<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4><A NAME="heading1">Listing 3<B></B> align.c &#151; <B><I></B>places a string into a field with left, right, or center justification and pads with a user-supplied character</I></A></h4>
<pre>/* align.c: Align a string within a background */

#include &lt;string.h&gt;

#define LEFT (-1)
#define CENTER 0
#define RIGHT 1

#define min(x,y) ((x) &lt;= (y) ? (x) : (y))

char *align(char *buf,int width,char fill,int justify,char *data)
{
   char *p;
   
   /* Truncate, if necessary */
   int dlen = min(width,strlen(data));
   
   /* Populate with fill character */
   memset(buf,fill,width);
   buf[width] = '\0';
   
   /* Calculate starting point */
   if (justify == LEFT)
      p = buf;
   else if (justify == CENTER)
      p = buf + (width-dlen)/2;
   else
      p = buf + width-dlen;
   
   /* Insert the data there */
   memcpy(p,data,dlen);
   return buf;
}
/* End of File */
</pre>
</BODY>
</HTML>
