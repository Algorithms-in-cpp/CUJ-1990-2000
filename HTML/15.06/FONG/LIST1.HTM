



<HTML><HEAD>

<TITLE>June 1997/Being Assertive in C/C++/Listing 1</TITLE></HEAD>
<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">
<h4>Listing 1:	Checking function parameters, index ranges, and order of function
invocation</h4>

<pre>
void AddCode( void *CodeLoc, unsigned CodeSize )
{
  assert( CodeLoc != NULL );
  ...
  int CodeOffset = Add( CodeLoc, CodeSize );
  ...
}


void MarkSelector( char* SelectorName )
{
  unsigned SelectorIndex = LookupSelector( SelectorName );
  assert( SelectorIndex &lt; NumSelectors );
  SelectorArray[ SelectorIndex ].Mark = 1;
}


class CodeSection
{
  bool ContentComputed;
  long ContentSize;
  ...
  CodeSection( void )  { ContentComputed = false;  };
  void SetContentSize( long Size )
  {
    ContentSize = Size;
    ContentComputed = true;
  }
  long GetContentSize( void )
  {
    assert( ContentComputed );
    return ContentSize;
  }
}
//End of File
</pre>
</body></html>
