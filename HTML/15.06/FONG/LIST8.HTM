



<HTML><HEAD>

<TITLE>June 1997/Being Assertive in C/C++/Listing 8</TITLE></HEAD>
<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">
<h4>Listing 8:	Combining use of assertions and defensive programming</h4>

<pre>
int ObjectToInt( C_object* InObject )
{
  assert( InObject != NULL );
  if( InObject == NULL )
    return INT_MAX;

  int IntValue;
  switch( InObject-&gt;GetType() )
  {
    case kInteger:
    case KReal:
      IntValue = GetInteger( InObject );
      break;

    case kBoolean:
      IntValue = GetBoolean( InObject );
      break;

    case kPointer:
      IntValue = GetPointer( InObject );
      break;

    default:
      assert( "Invalid type of object" == NULL );
      IntValue = INT_MAX;
      break;
  }

  return IntValue;
}
//End of File
</pre>
</body></html>
