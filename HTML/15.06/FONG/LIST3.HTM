



<HTML><HEAD>

<TITLE>June 1997/Being Assertive in C/C++/Listing 3</TITLE></HEAD>
<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">
<h4>Listing 3:	Checking data structure validity</h4>

<pre>
enum
{
  kEnterOperation,
  kEnterMethod,
  kExitMethod,
  ...
  kDispatchGlue,
  kNUM_ENTRIES
};

class CodeGenerator
{
  ...
  static char* NamesTable[ kNUM_ENTRIES ];
  static void InitNames( void );
};

void CodeGenerator::InitNames( void )
{
  int i;

  for( i = 0; i &lt; kNUM_ENTRIES; ++i )
    NamesTable[ i ] = NULL;

  NamesTable[ kEnterOperation ] = "EnterOperation";
  NamesTable[ kEnterMethod ]    = "EnterMethod";
  NamesTable[ kExitMethod ]     = "ExitMethod";
  ...
  NamesTable[ kDispatchGlue ]   = "DispatchGlue";

  for( i = 0; i &lt; kNUM_ENTRIES; ++i )
    assert( NamesTable[ i] != NULL );
}
//End of File
</pre>
</body></html>
