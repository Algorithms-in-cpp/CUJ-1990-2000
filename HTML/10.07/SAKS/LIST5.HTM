<HTML><HEAD>
<TITLE>July 1992/Stepping Up To C++/Listing 5</TITLE></HEAD>

<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4><A NAME="heading1">Listing 5</A></h4>
<pre>istream &amp;operator&gt; &gt;(istream &amp;is, rational &amp;r)
     {
     long n, d;
     char c= 0;
     if (is &gt;&gt; c &amp;&amp; c == '(')
        {
        is &gt;&gt; n &gt;&gt; c;
        if (c == '/')
           is &gt;&gt; d &gt;&gt; c;
        if (c != '(')
           {
          is.putback(c);
         is.clear(ios::failbit);
          }
        }
     else
        {
        is.putback(c);
        is &gt;&gt; n;
        d = 1;
        }
     if (is)
        r = rational(n, d);
     return is;
     }
//End of File
</pre>
</BODY>
</HTML>
