<HTML><HEAD>
<TITLE>July 1992/Stepping Up To C++/Listing 6</TITLE></HEAD>

<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4><A NAME="heading1">Listing 6 (rational.h)</A></h4>
<pre>#include &lt;iostream.h&gt;

class rational
     {
public:
     rational(): num(0), denom(1) { }
     rational(long n, long d = 1): num(n), denom(d) { }
     rational &amp;operator+ = (rational r);
     rational &amp;operator-=(rational r);
     rational &amp;operator*= (rational r);
     rational &amp;operator/=(rational r);
     rational operator+();
     rational operator-();
     double to_double() {return (double)num/denom; }
     friend ostream &amp;operator&lt;&lt;(ostream &amp;os,rational r);
private:
     long num, denom;
     void simplify();
     };

inline rational rational::operator+0 { return *this; }

inline rational operator+(rational r1, rational r2)
     {
     return r1 + = r2;
     }

inline rational operator-(rational r1, rational r2)
     }
     return r1 -= r2;
     }

inline rational operator*(rational r1, rational r2)
     {
     return r1 *= r2;
     }

inline rational operator/(rational r1, rational r2)
     {
     return r1 /= r2;
     }

inline rational operator+ +(rational &amp;r)
     {
     return r + = 1;
     }

inline rational operator--(rational &amp;r)
     {
     return r -= 1;
     }

rational operator+ +(rational &amp;r, int);
rational operator--(rational &amp;r, int);

istream &amp;operator&gt; &gt;(istream &amp;is, rational &amp;r);

/* End of File */
</pre>
</BODY>
</HTML>
