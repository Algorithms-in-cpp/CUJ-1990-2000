<HTML><HEAD>
<TITLE>July 1992/Bit Arrays with C++/Listing 2</TITLE></HEAD>

<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4><A NAME="heading1">Listing 2</A></h4>
<pre>// 2D - bit packed array: Instantiation and test driver


#include "bitarray.hpp"

const int xsize = 5;
const int ysize = 5;
const int num_bits = 4;

main() {
    int i, j, tmp;

    Bit_2D_Array&lt; xsize, ysize, hum bits &gt; A;
    Bit_2D_Array&lt; xsize, ysize, num_bits &gt; B;

    A = 0;
    B = 0;

    A(0,0) = 0;
    A(1,0) = 1;
    A(1,2) = 2;
    A(3,0) = 3;

    B(0,0) = 0;
    B(1,0) = 1;
    B(1,2) = 2;
    B(3,0) = 11; // too large for 2 bits == 3, 4 bits is 0K

    if ( A == B) {
        cout &lt;&lt;" A == B" &lt;&lt; endl;
    }
    else {
        cout &lt;&lt;" A != B" &lt;&lt; endl;
    };

    B = 0;

    for( i=0; i &lt; xsize; i++) {
        B( i, i ) = 1;
    }
    for( i=0; i &lt; xsize; i++) {
        B( i, ( ysize - 1) - i ) = 2;
    }
    for( i=0; i &lt; xsize; i++) {
        B( i, ysize - 1 ) = 3;
    }
    for( i=0; i &lt; xsize; i++) {
        B( xsize - 1, i ) = 4;
    }

    B.dump();

    // Transpose matrix to show that board() = board() is 0K
    for( i=0; i&lt;xsize; i++) {
        for( j=0; j&lt;i; j++) {
            tmp= B(i,j);
            B(i,j) = B(j,i);
            B(j,i) = tmp;
        }
    };
    B.dump();
}

// End of File
</pre>
</BODY>
</HTML>
