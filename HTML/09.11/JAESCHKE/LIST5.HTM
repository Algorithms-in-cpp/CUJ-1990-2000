<HTML><HEAD>
<TITLE>November 1991/Doctor C's Pointers/Listing 5</TITLE></HEAD>

<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4><A NAME="heading1">Listing 5</A></h4>
<pre>/* --------------------------------------------------------------

FUNCTION GET_FREE_NODE: The steps to get a node from the free node
       list are:

A.  If the free node list is empty, get memory for a new node and
    return its address.

B.  Else remove the first node from the free list and use that.

------------------------------------------------------------- */

Node *get_free_node(void)
{
       const Node *pnew_node;

/*A*/   if (pfree_node == NULL) {
              pnew_node = malloc(sizeof(Node));
       }
/*B*/   else {
              pnew_node = pfree_node;
              pfree_node = pfree_node-&gt;pfwd;
       }

       return pnew_node;
}

/* ----------------------------------------------------------- */

/* End of File */
</pre>
</BODY>
</HTML>
