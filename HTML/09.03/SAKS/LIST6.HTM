<HTML><HEAD>
<TITLE>March 1991/Stepping Up To C++/Listing 6</TITLE></HEAD>

<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4><A NAME="heading1">Listing 6 </A></h4>
<pre>/*
 * ln_seq.cpp - line number sequence implementation
 */
#include &lt;stdio.h&gt;

#include "ln_seq.h"

ln_seq::ln_seq()
   {
   first =0;
   }

void ln_seq::add(unsigned n)
   {
   listnode *p = first;
   if (first == 0)
      {
      first = new listnode;
      first-&gt;number = n;
      first-&gt;next = NULL;
      }
   else
      {
      while (p-&gt;next != 0 &amp;&amp; p-&gt;number != n)
         p = p-&gt;next;
      if (p-&gt;number != n)
         {
         p = p-&gt;next = new listnode;
         p-&gt;number = n;
         p-&gt;next = 0;
         }
      }
   }

void ln_seq::print()
   {
   listnode *p;
   
   for (p = first; p != 0; p = p-&gt;next)
      printf("%4d ", p-&gt;number);
   }
</pre>
</BODY>
</HTML>
