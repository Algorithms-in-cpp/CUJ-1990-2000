<HTML><HEAD>
<TITLE>March 1991/Building Embedded Systems With Turbo C/Listing 5</TITLE></HEAD>

<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4><A NAME="heading1">Listing 5</A></h4>
<pre>/****************************************************/
/*                                                  */
/*             iolink.c                             */
/*                                                  */
/*         stdio tie for Turbo C/C++ Compilers      */
/*                                                  */
/*           Copyright (C) 1990                     */
/*           Pasquale J. Villani                    */
/*           All Rights Reserved                    */
/*                                                  */
/****************************************************/

#include &lt;stdio.h&gt;

FILE _streams[20];

fputc(c, f)
char c;
FILE *f;
{
   return _fputc(c, f);
}
_fputc(c, f)
char c;
FILE *f;
{
   if(write(1, &amp;c, 1) == 1)
      return c;
   else
      return EOF;
}

_fgetc(f)
FILE *f;
{
   char c;
   
   if(read(0, &amp;c, 1) != 1)
      return EOF;
   else
      return c;
}
</pre>
</BODY>
</HTML>
