<HTML><HEAD>
<TITLE>March 1991/Embedded Real-Time Multitasking Kernel/Listing 12</TITLE></HEAD>

<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4><A NAME="heading1">Listing 12 (serial.h)</A></h4>
<pre>/*****************************************
 * Name: serial.h
 * Description: all info and data
 *    structures for serial comm
 *****************************************/

#define  WU    0x01 /* wake up bit */
#define  TE    0x02 /* transmit enable */
#define  TIE   0x04 /* transmit interrupt enable */
#define  RE    0x08 /* receive enable */
#define  RIE   0x10 /* receive interrupt enable */
#define  TDRE  0x20 /* transmit data register empty */
#define  ORFE  0x40 /* overrun framing error */
#define  RDRF  0x80 /* receive data register full */

#define  SSO   0x01
#define  SS1   0x02
#define  CCO   0x04
#define  CC1   0x08

#define  test_mode CC1  SSO /* RMCR = 00001001 */
#define  tr_test  TE  RE /* TRCSR = 00001010 */
#define normal_mmode   RIE  RE  TE
                  /* TRCSR = 00011010 */
</pre>
</BODY>
</HTML>
