<HTML><HEAD>
<TITLE>July 1991/Standard C/Listing 2</TITLE></HEAD>

<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4><A NAME="heading1">Listing 2 (fabs.c)</A"></h4>
<pre>/* fabs function */
#include "xmath.h"

double (fabs)(double x)
   {  /* compute fabs */
   switch (_Dtest(&amp;x))
      {  /* test for special codes */
   case NAN:
      errno = EDOM;
      return (x);
   case INF:
      errno = ERANGE;
      return (_Inf._D);
   case 0:
      return (0.0);
   default:  /* finite */
      return (x 0.0 ? -x : x);
      }
   }

/* End of File */
</pre>
</BODY>
</HTML>
