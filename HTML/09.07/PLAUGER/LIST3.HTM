<HTML><HEAD>
<TITLE>July 1991/Standard C/Listing 3</TITLE></HEAD>

<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4><A NAME="heading1">Listing 3 (xdtest.c)</A></h4>
<pre>/*_Dtest function -- IEEE 754 version */
#include "xmath.h"

short _Dtest(double *px)
   {  /* categorize *px */
   unsigned short *ps = (unsigned short *)px;
   short xchar = (ps[_DO] &amp; _DMASK) &gt;&gt; _DOFF;

   if (xchar == _DMAX) /* NaN or INF */
      return (ps[_DO] &amp; _DFRAC || ps[_D1]
         || ps[_D2] || ps[_D3] ? NAN : INF);
   else if (0 &lt; xchar || ps[_DO] &amp; _DFRAC
      || ps[_D1] || ps[_D2] || ps[_D3])
      return (FINITE); /* finite */
   else
      return (0); /* zero */
   }</pre>

</BODY>
</HTML>
