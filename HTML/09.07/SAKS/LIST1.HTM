<HTML><HEAD>
<TITLE>July 1991/Stepping Up To C++/Listing 1</TITLE></HEAD>

<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4><A NAME="heading1">Listing 1 (xr.cpp) A Cross-Reference Generator</A></h4>
<pre>#include &lt;assert.h&gt;
#include &lt;ctype.h&gt;
#include &lt;stdio.h&gt;

#include "xrt.h"

int getword(char *word, size_t lim);

#define MAXWORD 100

int main()
    {
    char word[MAXWORD];
    unsigned lineno = 1;

    while (getword(word, MAXWORD) != EOF)
        if (isalpha(word[0]))
            xrt_add(word, lineno);
        else if (word[0] == '\n')
            ++lineno;
    xrt_print();
    xrt_destroy();
    return 0;
    }

// End of File
</pre>
</BODY>
</HTML>
