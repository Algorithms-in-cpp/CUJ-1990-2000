<HTML><HEAD>
<TITLE>February 1999/Adding Level-2 Thread Safety to Existing Objects/Listing 5</TITLE></HEAD>

<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4><A NAME="heading1">Listing 5: Defines sample object to be protected</A></h4>
<pre>
// File : Foo.h"

#ifndef  Foo_H
#define  Foo_H

class Foo
{
public:
   Foo() 
   {
      m_nValue = 1;   
   }

   ~Foo() 
   {
   
   }

   void inc( int nTimes )
   {
      for( int i = 0; i &lt; nTimes; i++ )
      {
         Sleep( 100 );
         m_nValue++;

         cout &lt;&lt; "Incrementing value..."
              &lt;&lt; endl;
      }
   }

   int value()
   {
      return m_nValue;
   }

private:
   int   m_nValue;
};

#endif
/* End of File */
</pre>
</BODY>
</HTML>
