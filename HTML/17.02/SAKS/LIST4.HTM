<HTML><HEAD>
<TITLE>February 1999/C++ Theory and Practice/Listing 4</TITLE></HEAD>

<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4><A NAME="heading1">Listing 4: xr using the cross_reference_table class</A></h4>
<pre>
// xr.cpp - generate a cross-reference of words

#include &lt;ctype.h&gt;
#include &lt;stdio.h&gt;

#include "table.h"

int get_token(char *s, size_t n);

#define MAX_TOKEN 256

int main()
    {
    cross_reference_table table;
    char token[MAX_TOKEN];
    unsigned ln = 1;
    while (get_token(token, MAX_TOKEN))
        if (isalpha(token[0]) || token[0] == '_')
            table.add(token, ln);
        else // if (token[0] == '\n')
            ++ln;
    table.put();
    return 0;
    }

int get_token(char *s, size_t n)
    {
    ... same as in <A HREF="list1.htm">Listing 1</A> ...
    }
//End of File
</pre>
</BODY>
</HTML>
