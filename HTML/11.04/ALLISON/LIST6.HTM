<HTML><HEAD>
<TITLE>April 1993/Code Capsules/Listing 6</TITLE></HEAD>

<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4><A NAME="heading1">Listing 6<I> A generic selection sort function</A></I></h4>
<pre>/* ssort.c: Generic selection sort */

#include &lt;stddef.h&gt;

void ssort(void *array, size_t nelems, size_t size,
  int (*comp)(const void *, const void *))
{
    size_t i, j, n;

    for (i = 0; i &lt; nelems-1; ++i)
       for (j = i+1; j &lt; nelems; ++j)
       {
          char *p1 = (char *) array + i*size;
          char *p2 = (char *) array + j*size;
          if (comp(p1,p2) &gt; 0)
             for (n = 0; n &lt; size; ++n)
             {
                 /* Swap elements byte-by-byte */
                 char t = p1[n];
                 p1[n] = p2[n];
                 p2[n] = t;
             }
       }
}
/* End of File */
</pre>
</BODY>
</HTML>
