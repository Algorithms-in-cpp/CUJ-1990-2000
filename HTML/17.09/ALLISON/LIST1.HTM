<HTML><HEAD>
<TITLE>September 1999/import java.*/Listing 1</TITLE></HEAD>

<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4><A NAME="heading1">Listing 1:	Controlling a resource in C++</A></h4>
<pre>
// consumer.cpp: Illustrates a protected 
// resource
#include &lt;iostream&gt;

class Resource
{
    friend class Consumer;
private:
    Resource() {}
};

class Consumer
{
public:
    Consumer()
    {
        pRes = new Resource();
    }
    ~Consumer()
    {
        delete pRes;
    }
private:
    Resource* pRes;
};

int main()
{
    Consumer c;
    std::cout &lt;&lt; "Consumer created\n";
}

/* Output:
Consumer created
*/


</pre>
</BODY>
</HTML>
