<HTML><HEAD>
<TITLE>January 1993/Code Capsules/Listing 6</TITLE></HEAD>

<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4><A NAME="heading1">Listing 6 <B></B>ftime.c &#151; <B><I></B>determines if </I><B></B>time1<B><I></B>.c is newer than </I><B></B>time2.c</A></h4>
<pre>/* ftime.c: Compare file time stamps */

#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;sys/stat.h&gt;
#include &lt;time.h&gt;

main()
{
   struct stat fs1, fs2;

   if (stat("time1.c",&amp;fs1) == 0 &amp;&amp;
      stat("time2.c",&amp;fs2) == 0)
   {
      double interval =
        difftime(fs2.st_mtime,fs1.st_mtime);

      printf("time1.c %s newer than time2.c\n",
        (interval &lt; 0.0) ? "is" : "is not");
      return EXIT_SUCCESS;
   }
   else
      return EXIT_FAILURE;
}
/* Output
time1.c is not newer than time2.c */
/* End of File */
</pre>
</BODY>
</HTML>
