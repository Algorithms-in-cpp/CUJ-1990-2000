<HTML><HEAD>
<TITLE>January 1993/Code Capsules/Listing 1</TITLE></HEAD>

<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4><A NAME="heading1">Listing 1 <B></B>time1.c &#151; <B><I></B>prints the current date and time in various formats</I></A></h4>
<pre>#include &lt;stdio.h&gt;
#include &lt;time.h&gt;

#define BUFSIZE 128

main()
{
   time_t tval;
   struct tm *now;
   char buf[BUFSIZE];
   char *fancy_format =
     "Or getting really fancy:\n"
     "%A, %B %d, day %j of %Y.\n"
     "The time is %I:%M %p.";

   /* Get current date and time */
   tval = time(NULL);
   now = localtime(&amp;tval);
   printf("The current date and time:\n"
         "%d/%02d/%02d %d:%02d:%02d\n\n",
     now-&gt;tm_mon+1, now-&gt;tm_mday, now-&gt;tm_year,
     now-&gt;tm_hour, now-&gt;tm_min, now-&gt;tm_sec);
   printf("Or in default system format:\n%s\n",
         ctime(&amp;tval));
   strftime(buf,sizeof buf,fancy_format,now);
   puts(buf);

   return 0;
}

/*  Output
The current date and time:
10/06/92 12:58:00

Or in default system format:
Tue Oct 06 12:58:00 1992

Or getting really fancy:
Tuesday, October 06, day 280 of 1992.
The time is 12:58 PM.
*/

/* End of File */
</pre>
</BODY>
</HTML>
