<HTML><HEAD>
<TITLE>January 1993/Using Wrappers to Improve Portability of Commercial Libraries/Listing 2</TITLE></HEAD>

<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4><A NAME="heading1">Listing 2 <B><I></B>The equivalent of <a href="list1.htm">Listing 1</a> using wrapper functions in C</I></A></h4>
<pre>#include "windows.h"

typedef int        BOOL;
typedef WNDCLASS   MYWCLASS;
typedef WNDPROC    MYWNDPROC;
typedef HINSTANCE  MYHINSTANCE;
typedef HCURSOR    MYHCURSOR;
typedef HBRUSH     MYHBRUSH;

void WCL_Init (MYWCLASS *wndclass, char *szAppName,
       MYWNDPROC WndProc, MYHINSTANCE hInstance,
       char *szMenuName)
{
   wndclass-&gt;style = CS_HREDRAW | CS_VREDRAW;
   wndclass-&gt;lpfnWndProc = WndProc;
   wndclass-&gt;cbClsExtra = 0;
   wndclass-&gt;cbWndExtra = 0;
   wndclass-&gt;hInstance = hInstance;
   wndclass-&gt;hIcon = LoadIcon (NULL,
                            IDI_APPLICATION);
   wndclass-&gt;hCursor = LoadCursor (NULL, IDC_ARROW);
   wndclass-&gt;hbrBackground = GetStockObject (WHITE_BRUSH);
   wndclass-&gt;lpszMenuName = szMenuName;
   wndclass-&gt;lpszClassName = szAppName;
}

void WCL_SetCursor (MYWCLASS *wndclass,
       MYHCURSOR hCursor)
{
   wndclass-&gt;hCursor = hCursor;
}

void WCL_SetBackground (MYWCLASS *wndclass,
       MYHBRUSH hbrBackground)
{
wndclass-&gt;hbrBackground = hbrBackground;
}

void WCL_SetMenu (MYWCLASS *wndclass,
                char *szMenuName)
{
   wndclass-&gt;lpszMenuName = szMenuName;
}

BOOL WCL_RegisterClass (MYWCLASS *wndclass)
{
   return (RegisterClass (wndclass));
}

/* End of File */</pre>

</BODY>
</HTML>
