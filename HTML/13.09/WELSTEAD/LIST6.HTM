<HTML><HEAD>
<TITLE>September 1995/Data Object List Dialog for Windows/Listing 6</TITLE></HEAD>

<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4><A NAME="heading1">Listing 6 CWINPDLG.CPP &#151; <I>Input dialog box</I></A></h4>
<pre>#include &lt;stdio.h&gt;
#include &lt;string.h&gt;

#include "cwdlg.h"
#include "cwdialgs.h"

int string_dialog (HWND Parent,LPCSTR dlg_title,
      LPCSTR descr,int maxlen,void *the_string) {
   char buffer[80],buffer2[80];
   strncpy (buffer,(char *)the_string,maxlen);
   sprintf (buffer2,"Enter new %s:",descr);
   tinput_dialog *p=
     new tinput_dialog(Parent, dlg_title,buffer2,
        buffer);
   if (!(p-&gt;exec_dialog ())) {
      delete p;
      return 0; }
   strncpy ((char *)the_string,p-&gt;input_text,maxlen);
   ((char *)the_string)[maxlen-1] = '\0';
   delete p;
   return 1;
   }  // end string_dialog

// End of File
</pre>
</BODY>
</HTML>
