<HTML><HEAD>
<TITLE>September 1995/Data Object List Dialog for Windows/Listing 9</TITLE></HEAD>

<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4><A NAME="heading1">Listing 9 TSSETLST.CPP &#151; <I>Example of a typical function assigning setup structure fields to an </I>object_list</A></h4>
<pre>#include &lt;string.h&gt;
#include "tssetlst.h"

void init_setup (setup_record *the_setup) {
   strcpy (the_setup-&gt;input_file_name,"filename.dat");
   strcpy (the_setup-&gt;str_data,"Rectangle");
   the_setup-&gt;rect_color = RGB (255,0,0);  // Red
   return; }

void setup_to_collection (setup_record *the_setup,
   object_list *the_collection) {
   void *value_ptr = NULL;
   tdata_type the_type;
   unsigned short len;
   int item_no = 0;

   value_ptr = &amp;the_setup-&gt;input_file_name;
   the_type = PATH_DATA;
   len = MAX_PATH;
   item_no++;
   the_collection-&gt;add_item (new ttyped_data_obj (
        "Input File Name",value_ptr,the_type,len,
        "*.DAT",item_no));
   value_ptr = &amp;the_setup-&gt;str_data;
   the_type = STR_DATA;
   len = STR_DATA_LEN;
   item_no++;
   the_collection-&gt;add_item (new ttyped_data_obj (
        "String Data",value_ptr,the_type,len,
        "",item_no));
   value_ptr = &amp;the_setup-&gt;rect_color;
   the_type = COLOR_DATA;
   len = 17;
   item_no++;
   the_collection-&gt;add_item (new ttyped_data_obj (
        "Rect Color",value_ptr,the_type,len,
        "",item_no));
   return; }

// End of File
</pre>
</BODY>
</HTML>
