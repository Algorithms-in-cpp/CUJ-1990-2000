<HTML><HEAD>
<TITLE>October 1994/Stepping Up To C++/Listing 6</TITLE></HEAD>

<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4><A NAME="heading1">Listing 6 <I>Non-inline member function definitions for a generic queue of </I>common *</A></h4>
<pre>//
// comq6.cpp - generic queue of common *
// with an iterator class
//

#include "comq6.h"

common *comq::iterator::next()
   {
   common *pv = 0;
   if (pc != 0)
      {
      pv = pc-&gt;element;
      pc = pc-&gt;next;
      }
   return pv;
   }

void comq::append(const common &amp;e)
   {
   cell *p = new cell(e, 0);
   if (first == 0)
      first = p;
   else
      last-&gt;next = p;
   last = p;
   }

void comq::clear()
   {
   cell *p;
   while (first != 0)
      {
      p = first;
      first = first-&gt;next;
      delete p;
      }
   last = 0;
   }

int comq::remove(common &amp;e)
   {
   if (first == 0)
      return 0;
   cell *p = first;
   if ((first = first-&gt;next) == 0)
      last = 0;
   e = *p-&gt;element;
   delete p;
   return 1;
   }

// End of File
</pre>
</BODY>
</HTML>
