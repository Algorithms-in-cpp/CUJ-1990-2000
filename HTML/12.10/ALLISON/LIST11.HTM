<HTML><HEAD>
<TITLE>October 1994/Code Capsules/Listing 11</TITLE></HEAD>

<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4><A NAME="heading1">Listing 11 <I>Demonstrates why you shouldn't use operator </I>delete<I> with arrays</A></I></h4>
<pre>#include &lt;iostream. h&gt;

class T
{
public:
   T() {cout &lt;&lt; "Default constructor" &lt;&lt; endl;}
   ~T(){cout &lt;&lt; "Destructor" &lt;&lt; endl;}
};

main()
{
   T *p = new T[3];
   delete p; /* CHANGED */
   return 0;
}

/* Output:
Default constructor
Default constructor
Default constructor
Destructor
Null Pointer Assignment
*/

/* End of File */
</pre>
</BODY>
</HTML>
