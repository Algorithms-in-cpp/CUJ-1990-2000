<HTML><HEAD>
<TITLE>October 1995/An Alternative Debug Function Macro/Listing 7</TITLE></HEAD>

<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4><A NAME="heading1">Listing 7 printf.h, <I>version 2</I></A></h4>
<pre>#ifndef PRINTF_H
#define PRINTF_H

#ifndef NDEBUG

#ifdef printf
#undef printf
#endif
#define printf (*Ptr_printf(__FILE__, \
             STRx2(__LINE__)))

#define STRx2(tokens) STRx1(tokens)
#define STRx1(tokens) #tokens

typedef int
PrintfLike(const char format[], ...);
PrintfLike * Ptr_printf(const char file[],
                    const char line[]);

#endif /* NDEBUG */
#endif /* PRINTF_H */

/* End of File */
</pre>
</BODY>
</HTML>
