<HTML><HEAD>
<TITLE>February 1993/Image Processing, Part 9: Histogram-Based Image Segmentation/Listing 2</TITLE></HEAD>

<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4><A NAME="heading1">Listing 2 <I>Function for image thresholding</I></A></h4>
<pre>   /*********************************************
   *
   *   threshold_image_array(...
   *
   *   This function thresholds an input image array
   *   and produces a binary output image array.
   *   If the pixel in the input array is between
   *   the hi and low values, then it is set to value.
   *   Otherwise, it is set to 0.
   *
   *********************************************/

threshold_image_array(in_image, out_image, hi, low, value)
   short hi, low, in image[ROWS][COLS],
         out_image[ROWS][COLS], value;
{
   int counter = 0, i, j;
   for(i=0; i&lt;ROWS; i++){
      for(j=0; j&lt;COLS; j++){
         if(in_image[i][j] &gt;= low &amp;&amp;
            in_image[i][j] &lt;= hi){
            out_image[i][j] = value;
            counter++;
         }
         else
            out_image[i][j] = 0;
      }  /* ends loop over j */
   )  /* ends loop over i */
   printf("\n\tTIA&gt; set %d points", counter);
}  /* ends threshold_image_array */
/* End of File */
</pre>
</BODY>
</HTML>
