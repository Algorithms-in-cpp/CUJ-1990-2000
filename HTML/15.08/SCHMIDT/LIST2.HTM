



<HTML><HEAD>

<TITLE>August 1997/The Learning C/C++urve/Listing 2</TITLE></HEAD>
<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">
<h4>Listing 2:	Revised auto_ptr</h4>

<pre>
template&lt;class t&gt;
class auto_pointer
    {
public:
    ~auto_pointer();
    auto_pointer(t * = NULL); // changed
    auto_pointer(const auto_pointer &amp;);
    auto_pointer &amp;operator=
        (const auto_pointer &amp;);
    operator t *() const; // replaces get 
    t **operator&amp;(); // new
    t * const *operator&amp;() const; // new 
    t&amp; operator*() const;
    t* operator-&gt;() const;
    t* release() const;
private:
    mutable bool is_owner_;
    t *pointer_;
    };
//End of File
</pre>
</body></html>
