



<HTML><HEAD>

<TITLE>November 1996/CGI Programming in C/Listing 2</TITLE></HEAD>
<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">
<h4>Listing 2:	The CGI program</h4>

<pre>

/* file name: form.cgi */
#include &lt;stdio.h&gt;
#include &lt;www.h&gt;  /* typedef char **stringArray */
extern int getnamevalue(stringArray *name, 
           stringArray *value);
extern void delnamevalue(stringArray name,
           stringArray value, int num);

main() {
  int i, num;
  /* name[i] is a char string */
  stringArray name; 
  /* value[i] is a char string */
  stringArray value;

  printf("Content-type: text/plain\n\n");
  printf("CGI FORM test script reports:\n\n");
   
  num = getnamevalue(&amp;name, &amp;value);
  if(num==0)
    printf("No input from FORM\n");
  printf("The following %d name/value pairs\n"
          " have been submitted\n\n", num);
  for(i=0; i &lt; num; i++)
     printf("%s=%s\n",name[i],value[i]);
  delnamevalue(name, value, num);
}
/* End of File */
</pre>
</body></html>
