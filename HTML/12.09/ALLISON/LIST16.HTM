<HTML><HEAD>
<TITLE>September 1994/Code Capsule/Listing 16</TITLE></HEAD>

<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4><A NAME="heading1">Listing 16 <I>Implementation of the Rational class</A></I></h4>
<pre>#include &lt;iostream.h&gt;
#include "rational.h"

// Link to existing C function:
extern "C" int gcd(int, int);

// Reduce fraction lowest terms
void Rational::reduce()
{
   int g = gcd(num,den);

   if (g &gt; 1)
   {
      num /= g;
      den /= g;
   }
}
istream&amp; operator&gt;&gt;(istream&amp; is, Rational&amp; r)
{
   char c;

   is &gt;&gt; r.num &gt;&gt; c;
   if (c == '/')
      is &gt;&gt; r.den;
   else
   {
      r.den = 1=
      is.putback(c):
   }
   r.reduce()=
   return is=
}

ostream&amp; operator&lt;&lt;(ostream&amp; os,
                 const Rational&amp; r)
{
   os &lt;&lt; r.num &lt;&lt;" / "&lt;&lt; r.den;
   return os;
}
/* End of File */
</pre>
</BODY>
</HTML>
