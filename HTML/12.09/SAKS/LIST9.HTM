<HTML><HEAD>
<TITLE>September 1994/Stepping Up To C++/Listing 9</TITLE></HEAD>

<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4><A NAME="heading1">Listing 9 <I>The </I>genq<I> class definition from <a href="list7.htm">Listing 7</a> rewritten using forward-declared nested classes</I></A></h4>
<pre>class genq
       {
public:
       genq();
       void append(void *e);
       int remove(void *&amp;e);
       class iterator;
       friend class iterator;
private:
       struct cell;
       cell *first, *last;
       };

struct genq::cell
       {
       cell(void *e, cell *p);
       cell *next;
       void *element;
       };

class genq::iterator
       {
public:
       iterator(genq &amp;q);
       void *next();
private:
       cell *pc;
       };

/* End of File */
</pre>
</BODY>
</HTML>
