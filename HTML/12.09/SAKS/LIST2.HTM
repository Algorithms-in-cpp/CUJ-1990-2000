<HTML><HEAD>
<TITLE>September 1994/Stepping Up To C++/Listing 2</TITLE></HEAD>

<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4><A NAME="heading1">Listing 2 <I>Non-inline member function definitions for a generic queue using </I><B></B>void *<B><I></B> elements and an two-argument iteration function</A></I></h4>
<pre>//
// genq4.cpp - generic queue of void *
// with a two-argument iteration function
//

#include "genq4.h"

void genq::append(void *e)
       {
       cell *p = new cell(e, 0);
       if (first == 0)
              first = p;
       else
              last-&gt;next = p;
       last = p;
       }

void genq::
apply(void f(void *e, void *a), void *args)
       {
       cell *p;
       for (p = first; p != 0; p = p-&gt;next)
              f(p-&gt;element, args);
       }

int genq::remove(void *&amp;e)
       {
       if (first == 0)
              return 0;
       cell *p = first;
       if ((first = first-&gt;next) == 0)
              last = 0;
       e = p-&gt;element;
       delete p;
       return 1;
       }

// End of File
</pre>
</BODY>
</HTML>
