<HTML><HEAD>
<TITLE>August 1995/Fixed-Point C for Graphics Applications/Listing 3</TITLE></HEAD>

<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4><A NAME="heading1">Listing 3 <I>Cosine Table generation</I></A></h4>
<pre>#include &lt;math.h&gt;
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;

/*
   This is the routine used to generate the table used in the
   fixed-point sine and cosine functions.
*/


#define PI                3.14159265358979323846
#define DEGREES_IN_CIRCLE (1L &lt;&lt; 12)
#define TABLE_UNITY       (1L &lt;&lt; 14)


int main( void )
{
   double degree, step;
   unsigned short value;
   int column;

   step = (2.0 * PI) / DEGREES_IN_CIRCLE;

   for( degree = 0.0, column = 0; degree &lt; PI / 2.0; degree += step )
   {
      value = (unsigned short)(TABLE_UNITY * cos( degree ));
      printf( "0x%04hx,%c", value, ++column % 8 ? ' ' : '\n' );
   }

   return( 0 );
}

/* End of File */
</pre>
</BODY>
</HTML>
