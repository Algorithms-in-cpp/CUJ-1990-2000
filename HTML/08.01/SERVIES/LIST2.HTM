<HTML><HEAD><TITLE>January 1990/Spiffier Windows For Turbo C/Listing 2</TITLE></HEAD><BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">
<h4><A name="0035_0014"><A name="0035_0014">Listing 2<A name="0035_0014"></h4><P>
<pre>#include &lt;stdio.h&gt;
#include &lt;conio.h&gt;

#define XSIZE 50
#define YSIZE 15

char newbuffer[XSIZE * YSIZE * 2]; /* Allow for Attributes */
char oldbuffer[XSIZE * YSIZE * 2];

main()
{
int i, j;
char key_string[15];

/* Get the existing screen area and store it in oldbuffer.
 * Subtract 1 from size, since the 1st position is 0.
 */
gettext (5,5,5+XSIZE-1,5+YSIZE-1,oldbuffer);

/* Clear the new window area (newbuffer) */
for (i = 0; i &lt; YSIZE; i++) {
   for (j = 0; j &lt; XSIZE*2; j+=2) {
      newbuffer[i*XSIZE*2+j] = ' ';          /* Blank Space */
      newbuffer[i*XSIZE*2+j+1] = '\35';      /* Attribute */
      }
   }

/* Loop through 10 times */
for (j = 0; j &lt; 10; j++) {

  /* Print YSIZE lines */
   for (i = 0; i &lt; YSIZE; i++) {
      sprintf(key_string,"Value %.3d",i+(j*(int)YSIZE));
      puttext_write(1,i,XSIZE,YSIZE,key_string,\
                                  '\35',newbuffer);
      }

   /* Show it on the screen */
   puttext(5,5,5+XSIZE-1,5+YSIZE-1,newbuffer);
   delay(500);
   }

/* Restore the original screeen */
puttext(5,5,5+XSIZE-1,5+YSIZE-1,oldbuffer);
}</pre>

</BODY></HTML>
