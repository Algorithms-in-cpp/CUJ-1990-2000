



<HTML><HEAD>

<TITLE>April 1996/A Portable Multiprocess Gateway in C++/Listing 2</TITLE></HEAD>
<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4>
<A name="HEADING1">Listing 2: Task-specific subclass</A></h4>


<pre>

class MyKproc : AIXkproc
{
     private:
          void processWork();
};

MyKproc::processWork()
{
     while ( okToContinue() )
      {
      // do something
      }
}

void run_kproc()
{
MyKproc *worker = new MyKproc("myWorker"); // kernel proc created here
worker-&gt;start();                             // execution actually starts here

// Do some other stuff here (if you want...)

delete worker;                             // stop the kernel process
}

</pre>
</body></html>
