<HTML><HEAD>
<TITLE>October 2000/An Improved Variant Type Based on Member Templates/Listing 1</TITLE></HEAD>

<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4><A NAME="heading1">Listing 1: Definition of class variant0_t</A></h4>
<pre>
struct variant0_t
{
  variant0_t():data(NULL){}

  template&lt;typename T&gt; variant0_t(const T&amp; v)
   : data ( &amp;v ) {}

  template&lt;typename T&gt; operator T () const
  { return * reinterpret_cast&lt;const T*&gt;(data); }

  const void* data ;
} ;

</pre></pre></body></html>
