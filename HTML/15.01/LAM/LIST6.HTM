



<HTML><HEAD>

<TITLE>January 1997/A C++ CGI Framework/Listing 6</TITLE></HEAD>
<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">
<p><B>Listing 6:	A generic HTML form processor that returns the list of name-value
pairs to the browser</B></p>

<pre>

// myproc.C - source file for myProcessor
#include &lt;cgi/htmlhelp.h&gt;
#include "myproc.h"

int myProcessor::process(cgiDataList&amp; data)
{
   // write the document type and HTML header
   cgiHTMLHelper html(cout);

   html.contentType();
   html.header("Name-Value Pairs");

   // write the name, value pairs of data
   for (cgiDataList::const_iterator i = data.begin();
        i != data.end(); i++) {
      // the iterator points to the next name, value pair
      const pair&lt;cgiName, cgiValue&gt;&amp; item = *i;

      // write out the (name, value) pairs
      cout &lt;&lt; htmlpara &lt;&lt; "("
           &lt;&lt; item.first.c_str() &lt;&lt; ", "
           &lt;&lt; item.second.c_str()&lt;&lt; ")" &lt;&lt; endl;
   }

   // write the trailer and exit
   html.trailer();

   return 0;    // succeeds
}

//End of File
</pre>
</body></html>
