<HTML><HEAD>
<TITLE>September 1992/Stepping Up To C++/Listing 3</TITLE></HEAD>

<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4><A NAME="heading1">Listing 3 This code is an explicit copy constructor that replicates the entire array. It performs a "deep copy" &#151; it copies the entire substructure of the object.</A></h4>
<pre>#include &lt;iostream.h&gt;
#include &lt;string.h&gt;

class String
   {
   ...
public:
   String(const String &amp;s);
   ...
private:
   size_t len;
   char *str;
   };

String::String(const String &amp;s)
   {
   len = s.len;
   str = new char[len + 1];
   strcpy(str, s.str);
   }
// End of File
</pre>
</BODY>
</HTML>
