<HTML><HEAD>
<TITLE>September 1992/C Inside the 8250/Listing 7</TITLE></HEAD>

<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4><A NAME="heading1">Listing 7 (assert.c)</A></h4>
<pre>/***    MODEM CONTROL AND STATUS ROUTINES    ***/

#include "serial.h"

extern int portbase;

/***      USE TO SET CONTROL BITS IN MCR     ***/

void Assert(int request)
{
  int Current_Value;
  
  Current_Value = inp(portbase + MCR);
  
  outp(portbase + MCR,(Current_Value | request));
}

/***   USE TO TURN OFF CONTROL BITS IN MCR   ***/

void Assert_Off(int request)
{
  int Current_Value;
  
  Current_Value = inp(portbase + MCR);
  
  outp(portbase + MCR,(Current_Value &amp; (OxFF - request)));
}

/***    GIVES STATUS OF CONTROL BIT IN MSR   ***/

int Status(int request)
{
  int Current_Value;
  
  Current_Value = (inp(portbase + MSR) &amp; request);
  
  return(Current_Value);
}
/* End of File */
</pre>
</BODY>
</HTML>
