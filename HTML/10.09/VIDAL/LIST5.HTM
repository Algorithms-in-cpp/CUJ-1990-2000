<HTML><HEAD>
<TITLE>September 1992/Exception Handling/Listing 5</TITLE></HEAD>

<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4><A NAME="heading1">Listing 5 Implementation of class <I>ExH</I></A></h4>
<pre>#include &lt;stdlib.h&gt;
#include "ExH.h"

// Static members instantiation

PFV ExH::terminate = abort;
PFV ExH::unexpected = ExH::terminate;

char ExH::safeSpace[ExH::BUFSIZE];
Exception* ExH::lastEx = (Exception*)ExH::safeSpace;
JmpStack ExH::stk;

void terminate()
{
    (ExH::terminate)();
}

void unexpected()
{
    (ExH::unexpected)();
}
PFV set_terminate(PFV t)
{
    PFV ret = ExH::terminate;
    ExH::terminate = t;
    return ret;
}

PFV set_unexpected(PFV t)
{
    PFV ret = ExH::unexpected;
    ExH::unexpected = t;
    return ret;
}
// End of File
</pre>
</BODY>
</HTML>
