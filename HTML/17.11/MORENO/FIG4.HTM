<HTML><HEAD>
<TITLE>November 1999/Constructing FIR Digital Filters with valarray/Figure 4</TITLE></HEAD>

<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4><A NAME="heading1">Figure 4: Partial listing of file conversions.h, which supplies needed conversions between numeric types</A></h4>
<pre>
    // Default conversion is the standard static cast
template &lt;class SrcType, class DstType&gt;
inline DstType &amp; convert (const SrcType &amp; src, DstType &amp; dst)
{
    return dst = static_cast&lt;DstType&gt;(src);
}

    // Now define specific conversions:
inline int convert (double src, int &amp; dst)
{
    return dst = (src &gt; 0) ? static_cast&lt;int&gt;(src + 0.5) : 
                             static_cast&lt;int&gt;(src - 0.5);
}

inline unsigned int convert (double src, unsigned int &amp; dst)
{
    return dst = static_cast&lt;unsigned int&gt;(src + 0.5);
}

    // Other conversions omited here to save magazine space

</pre>
</BODY>
</HTML>
