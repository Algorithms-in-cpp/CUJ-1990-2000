<HTML><HEAD>
<TITLE>June 1993/Stepping Up To C++/Listing 3</TITLE></HEAD>

<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4><A NAME="heading1">Listing 3 <I>A simple exception handler</I></A></h4>
<pre>#include &lt;iostream.h&gt;

class XXX { ... };

int f()
   {
   int i;
   // ...
   if (... something wrong ...)
      throw 2;
   }

int g()
   {
   XXX x;
   unsigned long ul;
   // ...
   if (... something else wrong ...)
      throw x;
   return f()
   }

int h()
   {
   try
      {
      // ...
      g()
      return 0;
      }
   catch (int n)
      {
      cerr&lt;&lt; "#"&lt;&lt; n &lt;&lt;" happened\n";
      return n;
      }
   catch (char *s)
      {
      cerr &lt;&lt; s &lt;&lt; " went wrong\n";
      return -1;
      }
   catch (const XXX &amp;x)
      {
      cerr &lt;&lt; x &lt;&lt; " went wrong\n";
      return -1;
      }
   }

/* End of File */</pre>

</BODY>
</HTML>
