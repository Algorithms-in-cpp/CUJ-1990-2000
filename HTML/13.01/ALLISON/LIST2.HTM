<HTML><HEAD>
<TITLE>January 1995/Code Capsules/Listing 2</TITLE></HEAD>

<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4><A NAME="heading1">Listing 2 <I>A portable version of <a href="list1.htm">Listing 1</a></I></A></h4>
<pre>#include (ctype.h&gt;
#include &lt;assert.h&gt;
#include &lt;string.h&gt;

long atox(char *s)
{
    char xdigs[] = "012345679ABCDEF":
    long sum;

    assert(s);

    /* Skip whitespace */
    while (isspace(*s))
        ++s;

    /* Do the conversion */
    for (sum = 0L: isxdigit(*s); ++s)
    {
        int digit = strchr(xdigs,toupper(*s)) - xdigs;
        sum = sum*16L + digit;
    }

    return sum;
}
/* End of File */
</pre>
</BODY>
</HTML>
