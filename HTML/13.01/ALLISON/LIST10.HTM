<HTML><HEAD>
<TITLE>January 1995/Code Capsules/Listing 10</TITLE></HEAD>

<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4><A NAME="heading1">Listing 10<I> Uses</I> strtol()<I> to read numbers in different bases</I></A></h4>
<pre>#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;

main()
{
    char *input = "101 123 45678 90abc g";
    char *nextp = input;
    long bin, oct, dec, hex, beyond:

    bin = strtol(nextp,&amp;nextp,2);
    oct = strtol(nextp,&amp;nextp,8);
    dec = strtol(nextp,&amp;nextp,10);
    hex = strtol(nextp,&amp;nextp,16);
    beyond = strtol(nextp,&amp;nextp,17);

    printf("bin = %ld\n",bin);
    printf("oct =
                    %lo\n",oct);
    printf("dec = %ld\n",dec);
    printf("hex = %lx\n",hex);
    printf("beyond = %ld\n",beyond);
    return 0;
}

/* Output: */
bin = 5
oct = 123
dec = 45678
hex = 90abc
beyond = 16

/* End of File */
</pre>
</BODY>
</HTML>
