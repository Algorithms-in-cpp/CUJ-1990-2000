<HTML><HEAD>
<TITLE>January 1995/Code Capsules/Listing 1</TITLE></HEAD>

<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4><A NAME="heading1">Listing 1 <I>Converts a hex-string to a number in ASCII environments</I></A></h4>
<pre>#include &lt;ctype.h&gt;
#include &lt;assert.h&gt;

long atox(char *s)
{
    long sum;

    assert(s);

    /* Skip whitespace */
    while (isspace(*s))
        ++s;

    /* Do the conversion */

    for (sum = 0L; isxdigit(*s); ++s)
    {
        int digit;

        if (isdigit(*s))
            digit = *s - '0';
        else
            digit = toupper(*s) - 'A' + 10;
        sum = sum*16L + digit;
    }

    return sum;
}
/* End of File */
</pre>
</BODY>
</HTML>
