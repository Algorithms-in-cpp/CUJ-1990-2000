<HTML><HEAD>
<TITLE>December 1992/Code Capsules/Listing 2</TITLE></HEAD>

<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4><A NAME="heading1">Listing 2 <B></B>find2.c<B><I></B> &#151; searches for all occurrences of a string regardless of case</A></I></h4>
<pre>/* find2.c:    A case-insensitive substring search */

#include &lt;stdio.h&gt;
#include &lt;string.h&gt;

#define WIDTH 128

main(int argc, char *argv[])
{
   char line[WIDTH], lline[WIDTH];
   char *search_str;

   if (argc == 1)
      return 1;   /* Search string required */
   search_str= argv[l];
   strlwr(search_str);

   while (gets(line))
   {
      strlwr(strcpy(lline, line));
      if (strstr(lline,search_str))
         puts(line);
   }

   return 0;
}
/* End of File */
</pre>
</BODY>
</HTML>
