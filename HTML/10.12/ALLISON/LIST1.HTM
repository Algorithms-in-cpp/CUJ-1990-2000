<HTML><HEAD>
<TITLE>December 1992/Code Capsules/Listing 1</TITLE></HEAD>

<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4><A NAME="heading1">Listing 1 <B></B>findl.c<B><I></B> &#151; finds and prints all lines from a text file that contain a given string</A></I></h4>
<pre>/* findl.c:   Extract lines from a file */

#include &lt;stdio.h&gt;
#include &lt;string. h&gt;

#define WIDTH 128

main(int argc, char *argv[])
{
   char line[WIDTH];
   char *search_str;

   if (argc == 1)
      return 1;   /* Search string required */
   search_str = argv[1];
   
   while (gets(line))
      if (strstr(1ine,search_str) )
         puts(line);

   return 0;
}
/* End of File */
</pre>
</BODY>
</HTML>
