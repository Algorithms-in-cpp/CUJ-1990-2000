<HTML><HEAD>
<TITLE>July 1993/Code Capsules/Listing 12</TITLE></HEAD>

<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4><A NAME="heading1">Listing 12 <I>Reads a comma-delimited file</A></I></h4>
<pre>// comma.cpp: Extract comma-delimited tokens
#include &lt;iostream.h&gt;
#include &lt;strstream.h&gt;
#include &lt;stddef.h&gt;

main()
{

   const_size t BUFSIZ = 128;
   char s[BUFSIZ];

   while (cin.getline(s,BUFSIZ))
   {
      char name[16], addr[26], city[16], state[5], zip[6];
      istrstream sstr(s);

      sstr.getline(name,sizeof name,',');
      sstr.getline(addr,sizeof addr,',');
      sstr.getline{city,sizeof city,',');
      sstr.getline(state,sizeof state,',');
      sstr.getline(zip,sizeof zip);
      cout &lt;&lt; name &lt;&lt; '|'
          &lt;&lt; addr &lt;&lt; ,|,
          &lt;&lt; city &lt;&lt; '|'
          &lt;&lt; state &lt;&lt; '|'
          &lt;&lt; zip &lt;&lt; endl;
   }

   return 0;
}

// End of File
</pre>
</BODY>
</HTML>
