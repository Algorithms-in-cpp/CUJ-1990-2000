<HTML><HEAD>
<TITLE>July 1993/Code Capsules/Listing 15</TITLE></HEAD>

<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4><A NAME="heading1">Listing 15 <I>Copies files with or without redirection</A></I></h4>
<pre>// copy5.cpp: Copy one file to another
#include &lt;iostream.h&gt;
#include &lt;fstream.h&gt;
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;

main(int argc, char *arg[])
{
   ifstream inf;
   ofstream outf;

   // Open optional input file
   if (argc&gt; 1)
      inf. open (argv [1] );
   else
      inf.attach(fileno(stdin));

   // Open optional output file
   if (argc &gt; 2)
      outf.open(argv[2]);
   else
      outf.attach(fileno(stdout));

   if (inf &amp;&amp; outf)
   {
      char c;

      while (inf.get(c))
            outf.put(c);

      return EXIT_SUCCESS;
   }
   else
      return EXIT_FAILURE;
}

// End of File</pre>

</BODY>
</HTML>
