<HTML><head><TITLE>December 1990/Using The C Preprocessor For Device Control/Listing 4</TITLE></head><BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">
<h4><A name="0274_0172"><A name="0274_0172">Listing 4<A name="0274_0172"></h4><P>
<pre>  /* set bits 0,3, and 7 in the data direction register */
  /* to make those lines (connected to devices 2,1, and 3, */
  /* respectively) output lines in the general purpose I/O */
  /* register */


#include "mfp_defs.h"     /* MFP address definitions */
#include "mfp_macs.h"     /* MFP macro definitions */

#define BIT_MASK 0x89     /* mask for setting bits 0,3, and 7 */


devs_out()
{
      /* set them one at a time */
  BIT_SET(DDR,DEVICE_1);
  BIT_SET(DDR,DEVICE_2);
  BIT_SET(DDR,DEVICE_3);

      /* set all three at once */
  SET_BITS(DDR,BIT_MASK);
}
</pre>
</BODY></HTML>
