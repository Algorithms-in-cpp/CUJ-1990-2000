<HTML><head><TITLE>December 1990/Using The C Preprocessor For Device Control/Listing 6</TITLE></head><BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">
<h4><A name="0274_0176"><A name="0274_0176">Listing 6<A name="0274_0176"></h4><P>
<pre>      /* initialize device number 3 by holding its reset */
      /* line (GPIO bit 7) high for half a minute */

#include "mfp_defs.h"           /* MFP address definitions */
#include "mfp_macs.h"           /* MFP macro definitions */

#define HOLD_TIME       30      /* seconds to hold reset line */
#define RESET_LINE       7      /* reset line is GPIO bit 7 */

reset_dev3()
{
       BIT_SET(GPIO,RESET_LINE);       /* set reset line */
       delay(HOLD_TIME);               /* and hold it, then */
       BIT_CLR(GPIO,RESET_LINE);       /* clear it back to zero */
}</pre>

</BODY></HTML>
