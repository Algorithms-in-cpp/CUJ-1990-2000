<HTML><HEAD>
<TITLE>March 1995/Standard C/C++/Listing 3</TITLE></HEAD>

<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4><A NAME="heading1">Listing 3 <I>The file</I> strbstr0.c</A></h4>
<pre>// strbstr0 -- stringbuf::str()
#include &lt;sstream&gt;

string stringbuf::str() const
   {       // construct string from stringbuf
   if (gptr() != 0)
      return (string(eback(),
         (pptr() == 0 || pptr() &lt; egptr() ? egptr(): pptr())
            - eback( ) ) );
   else if (!(_Strmode &amp; _Constant) &amp;&amp; pptr() != 0)
      return (string(pbase(), pptr() - pbase()));
   else
      return (string(""));
   }
</pre>
</BODY>
</HTML>
