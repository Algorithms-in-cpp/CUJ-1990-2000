<HTML><HEAD>
<TITLE>March 1994/Weight Reduction Techniques in C++/Figure 10</TITLE></HEAD>

<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4><A NAME="heading1">Figure 10<I> Going low-level to improve efficiency</A></I></h4>
<pre><b>Figure 10a. Results of an inefficient += operator.</b>

 1.0235   500  void PadWithSpaces(CString &amp;str, int count)
              {
 5.0346 20000    while(count--)
30.0397 19000      str += " ";
 1.4354   500 }

<b>Figure 10b. Improved performance with low-level C-strings.</b>

 1.0235   500  void PadWithSpaces(CString &amp;str, int count)
              {
 2.4505   500   char *tmp = new char[count+l];
 3.2930   500    memset(tmp,' ',count);
 0.9438   500    tmp[count] = '\0';
 5.3049   500    str += tmp;
 1.9430   500    delete[] tmp;
 1.4353   500 }

// End of File</pre>
</BODY>
</HTML>
