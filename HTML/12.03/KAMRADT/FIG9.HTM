<HTML><HEAD>
<TITLE>March 1994/Weight Reduction Techniques in C++/Figure 9</TITLE></HEAD>

<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4><A NAME="heading1">Figure 9<I> Delaying creation of an object by restricting access</A></I></h4>
<pre>class BMOJoin;

class BMOIteratorImp {
public:
  BMOIteratorImp()
  {
    itsJoinPtr = NULL;
  }
  ~BMOIteratorImp()
  {
    delete itsJoinPtr;
  }
  int Search(char *str)
  {
    return
      GetJoinPointer()-&gt;Search(str);
  }
  void Disconnect()
  {
    delete itsJoinPtr;
    itsJoinPtr = NULL;
  }
private:
// this is actually split apart
// (see <A href="fig4.htm">Figure 4</a>.
)
  BMOJoin *GetJoinPointer()
  {
    if(itsJoinPtr)
      return itsJoinPtr;
    itsJoinPtr = new
      BMOJoin(itsStoredParameters);
    if(itsJoinPtr == NULL)
// for now throw is just an inline
// for exit()
      throw(ErrNoMem);
    return itsJoinPtr;
  }
};

// End of File</pre>
</BODY>
</HTML>
