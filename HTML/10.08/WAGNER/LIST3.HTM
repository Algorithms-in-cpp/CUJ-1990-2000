<HTML><HEAD>
<TITLE>August 1992/Smart Pointers in C++/Listing 3</TITLE></HEAD>

<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4><A NAME="heading1">Listing 3 (anyclass.hpp)</A></h4>
<pre>// anyclass.hpp
// declaration of anyClass, a test
// class, and declaration of
// RefCntPtr to anyClass

#ifndef CLASS_anyClass
 #define CLASS_anyClass
 
 #include "refptr.hpp"
 #include "refitem.hpp"
 
 #include &lt;iostream.h&gt;
 
 class anyClass : public RefCntItem
  {
   public:
    
    int intVal;
    char *string;
    
    anyClass (void)
      : RefCntItem()
      , intVal(0)
      , string(0)
      {
        cout &lt;&lt; "anyClass constructor\n\n";
      };
    
    ~anyClass (void)
      {
        cout &lt;&lt; "anyClass destructor\n";
        show();
      };
    
    void show(void)
      {
        cout &lt;&lt; "anyClass contents:\n"
            &lt;&lt; intVal &lt;&lt;""
            &lt;&lt; string &lt;&lt; "\n"
            &lt;&lt; "reference count: "
            &lt;&lt; refCnt() &lt;&lt; "\n\n";
      };
  };
 
 RefCntPtrDECLARE(anyClass)

#endif
// End of File
</pre>
</BODY>
</HTML>
