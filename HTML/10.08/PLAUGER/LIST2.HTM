<HTML><HEAD>
<TITLE>August 1992/Standard C/Listing 2</TITLE></HEAD>

<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4><A NAME="heading1">Listing 2 (atexit.c)</A></h4>
<pre>                    /* atexit function */
#include &lt;stdlib.h&gt;

/* external declarations */
extern void (*_Atfuns[])(void);
extern size_t _Atcount;

int (atexit)(void (*func)(void))
   {          /* function to call at exit */
   if (_Atcount == 0)
      return (-1);       /* list is full */
   _Atfuns[--_Atcount] = func;
   return (0);
   }
/* End of File */
</pre>
</BODY>
</HTML>
