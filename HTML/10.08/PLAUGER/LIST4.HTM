<HTML><HEAD>
<TITLE>August 1992/Standard C/Listing 4</TITLE></HEAD>

<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4><A NAME="heading1">Listing 4 (getenv.c)</A></h4>
<pre>/* getenv function -- in-memory version */
#include &lt;stdlib.h&gt;
#include &lt;string.h&gt;
#include "yfuns.h"

char *(getenv)(const char *name)
   {      /* search environment list for named entry */
   const char *s;
   size_t n = strlen(name);
   
   for (s = _Envp; *s; s += strlen(s) + 1)
      {                      /* look for name match */
      if (!strncmp(s, name, n) &amp;&amp; s[n] == '=')
         return ((char *)&amp;s[n + 1]);
      }
   return (NULL);
   }
/* End of File */
</pre>
</BODY>
</HTML>
