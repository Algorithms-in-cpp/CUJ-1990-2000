<HTML><HEAD>
<TITLE>August 1999/C++ Theory and Practice/Listing 4</TITLE></HEAD>

<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4><A NAME="heading1">Listing 4: deep.h &#151; The deep pointer template for "deeply const" pointers</A></h4>
<pre>
// deep.h
     
#ifndef DEEP_H_INCLUDED
#define DEEP_H_INCLUDED
     
template &lt;typename T&gt;
class deep_pointer
    {
public:
    deep_pointer();
    deep_pointer(T *p);
    deep_pointer &amp;operator=(T *p);
    operator T *();
    operator T const *() const;
    T *operator-&gt;();
    T const *operator-&gt;() const;
private:
    T *actual_pointer;
    };
     
...
     
#endif

</pre>
</BODY>
</HTML>
