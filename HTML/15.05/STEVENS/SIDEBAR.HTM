






<HTML>
     
     <HEAD>


          
          <TITLE>May 1997/An ISAPI Web-Server Extension SMTP Gateway/Sidebar</TITLE>
     </HEAD>
     
     <BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">
          
          <H2 ALIGN="center"><FONT COLOR="#800000">SMTP</FONT></H2>
          
          <HR>
          <BLOCKQUOTE>
               
               <P>SMTP Simple Mail Transfer Protocol is an Internet Standard
                    (STD), contained in the file STD10.TXT written by Jonathan
                    B. Postel. The STD can be retrieved from the Nework
                    Information Center at:</P>

<PRE>
http://www.internic.net
</PRE>
               
               <p>SMTP is used for transfering e-mail
                    items from a client to a message transfer agent or e-mail
                    server. It is useful only for sending e-mail to the server;
                    it cannot be used to retrieve e-mail from the server. SMTP
                    defines a small number of commands that may be sent from the
                    client to the server, and the response codes that the server
                    should respond with for each condition. The following are
                    the SMTP commands:</p>

<PRE>
HELO
MAIL
RCPT
DATA
RSET
NOOP
QUIT
</PRE>
               
               <p>The following are the SMTP reply codes
                    taken from the STD:</p>

<PRE>
500 Syntax error, command unrecognized
</PRE>
               
               <p>A syntax error may include errors such
                    as command line too long.</p>

<PRE>
501 Syntax error in parameters or arguments
502 Command not implemented
503 Bad sequence of commands
504 Command parameter not implemented
211 System status, or system help reply
214 Help message
</PRE>
               
               <p>A help message contains information on
                    how to use the receiver or the meaning of a particular
                    non-standard command. This reply is useful only to the human
                    user.</p>

<PRE>
220 &lt;domain&gt; Service ready
221 &lt;domain&gt; Service closing transmission channel
421 &lt;domain&gt; Service not available,
    closing transmission channel
</PRE>
               
               <p>"Service not available" may be a
                    reply to any command if the service knows it must shut down.</p>

<PRE>
250 Requested mail action okay, completed
251 User not local; will forward to &lt;forward-path&gt;
450 Requested mail action not taken: mailbox unavailable
</PRE>
               
               <p>The mailbox may be busy, for example.</p>

<PRE>
550 Requested action not taken: mailbox unavailable
</PRE>
               
               <p>The mailbox is not found, or cannot be
                    accessed.</p>

<PRE>
451 Requested action aborted: error in processing
551 User not local; please try &lt;forward-path&gt;
452 Requested action not taken: insufficient system storage 552
Requested mail action aborted: exceeded storage allocation 553
Requested action not taken: mailbox name not allowed
</PRE>
               
               <p>For example, the mailbox syntax is
                    incorrect.</p>

<PRE>
354 Start mail input; end with &lt;CRLF&gt;.&lt;CRLF&gt;
554 Transaction failed
</PRE>
               
               <p>The following example is also taken
                    from STD10.TXT:</p>
               
               <p>This SMTP example shows mail sent by
                    Smith at host Alpha.ARPA, to Jones, Green, and Brown at host
                    Beta.ARPA. Here we assume that host Alpha contacts host Beta
                    directly.</p>

<PRE>
S: MAIL FROM:&lt;Smith@Alpha.ARPA&gt;
R: 250 OK

S: RCPT TO:&lt;Jones@Beta.ARPA&gt;
R: 250 OK

S: RCPT TO:&lt;Green@Beta.ARPA&gt;
R: 550 No such user here

S: RCPT TO:&lt;Brown@Beta.ARPA&gt;
R: 250 OK

S: DATA
R: 354 Start mail input; end with &lt;CRLF&gt;.&lt;CRLF&gt;
S: Blah blah blah...
S: ...etc. etc. etc.
S: &lt;CRLF&gt;.&lt;CRLF&gt;
R: 250 OK
</PRE>
               
               <p>The mail has now been accepted for
                    Jones and Brown. Green did not have a mailbox at host Beta.
                    o </p></BLOCKQUOTE>
     </BODY>
</HTML>
