<HTML><HEAD><TITLE>November 1990/Questions & Answers/Listing 4</TITLE></HEAD><BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">
<h4><A name="025C_0161"><A name="025C_0161">Listing 4<A name="025C_0161"></h4><P>
<pre>#include &lt;stdio.h&gt;

struct s_date
   {
   int day;
   int month;
   char filler;  /*  Just to get some packing bytes (perhaps) */
   int year;
   };

main()
   {
   FILE *file;
   static struct s_date date = {1,2,' ',3};
   static struct s_date date2 = {4,5,' ',6};

   printf("\n Size of the structure is %d",
      sizeof(struct s_date));

   /*  Write two structures out */
   file = fopen("DATA.DAT","w");
   fwrite(&amp;date, sizeof(struct s_date), 1, file);
   fwrite(&amp;date2, sizeof(struct s_date), 1, file);
   fclose(file);

   file = fopen("DATA.DAT","r");
   /*  Note reversal of which date is read */
   fread(&amp;date2, sizeof(struct s_date), 1, file);
   fread(&amp;date, sizeof(struct s_date), 1, file);
   fclose(file);
   }
</pre>
</BODY></HTML>
