<HTML><HEAD><TITLE>November 1990/UNIX Interprocess Communications/Listing 1</TITLE></HEAD><BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000"><h4><A name="0243_015F"><A name="0243_015F">Listing 1<A name="0243_015F"></h4><P>
<pre>int msqid;              /* Message queue identifier */
key_t key=0x1024;       /* Name of message queue    */

/* Obtain a message queue identifier. If the
 * message queue doesn't exist, create it.
*/
if ((msqid=msgget(key, 0660 | IPC_CREAT)) == -1) {</FONT></FONT>
   /* The perror(3C) function prints the
    * text of the error number contained
    * in the external integer errno.
   */
     perror("msgget() failed: ");
     return(-1);
}
</pre>
</BODY></HTML>
