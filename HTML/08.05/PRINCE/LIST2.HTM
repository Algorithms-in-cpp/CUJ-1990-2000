<HTML><HEAD><TITLE>May 1990/The Quick Sort For Micros And Pipeline Processors/Listing 2</TITLE></HEAD><BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">
<h4><A name="00F9_0091"><A name="00F9_0091">Listing 2<A name="00F9_0091"></h4><P>
<pre>/* test driver for iqsort */
/* do not use -02 or higher with Sun C */

#include &lt;stdio.h&gt;

#define NSIZE 1000
#define IA 171
#define IC 11213

void iqsort();

main()
{
#ifndef __STDC__
   unsigned int fx;
#else
   unsigned short fx;
#endif
   unsigned int a[NSIZE], *indx[NSIZE+1];
   unsigned int i, j;
   for( i = 0; i &lt; NSIZE; ++i) /* not a serious random number generator */
      a[i] = (fx = fx * IA + IC);

   for( i=1; i &lt;= NSIZE / 12; ++i)
   {
      printf("\n");
      for(j = 1; j &lt;= 12; ++j}
         printf("%6u", a[12 * (i - 1) + j - 1]);
    }

   iqsort(NSIZE, &amp;a[-1], &amp;indx[-1]); /* expects 1 based arrays */
   printf("\nSorted array:\n");
   for( i=1; i &lt;= NSIZE / 12; ++i)
   {
      printf ("\n");
      for(j = 1; j &lt;= 12; ++j)
         printf("%6u", *indx[12 * (i-1) + j - 1]);
   }
}</pre>
</BODY>
</HTML>

