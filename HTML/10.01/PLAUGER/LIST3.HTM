<HTML><HEAD>
<TITLE>January 1992/Standard C/Listing 3</TITLE></HEAD>

<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4><A NAME="heading1">Listing 3 (xfiles.c)</A></h4>
<pre>/* _Files data object */
#include "xstdio.h"

/* standard error buffer */
static unsigned char ebuf[80];

/* the standard streams */
static FILE sin = {     /* standard input */
       _MOPENR, 0,
       NULL, NULL, &amp;sin._Cbuf,
       &amp;sin._Cbuf, NULL, &amp;sin._Cbuf, };
static FILE sout = {    /* standard output */
       _MOPENW, 1,
       NULL, NULL, &amp;sout._Cbuf,
       &amp;sout._Cbuf, NULL, &amp;sout._Cbuf, };
static FILE serr = {    /* standard error */
       _MOPENW|_MNBF, 2,
       ebuf, ebuf + sizeof (ebuf), ebuf,
       ebuf, NULL, ebuf, };

/* the array of stream pointers */
FILE *_Files[FOPEN_MAX] = {&amp;sin, &amp;sout, &amp;serr};
/* End of File */
</pre>
</BODY>
</HTML>
