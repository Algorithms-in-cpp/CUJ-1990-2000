<HTML><HEAD>
<TITLE>June 1994/Stepping Up To C++/Listing 4</TITLE></HEAD>

<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4><A NAME="heading1">Listing 4 <I>Class definition for a variable-length string</I></A></h4>
<pre>//
// str.h - a variable-length string (interface)
//

#include &lt;iostream.h&gt;
#include &lt;string.h&gt;

class str
   {
   friend ostream &amp;
      operator&lt;&lt;(ostream &amp;, const str &amp;);
   friend istream &amp;
      operator&gt;&gt;(istream &amp;, str &amp;);
public:
   str(const char * = "");
   str(const str &amp;);
   ~str();
   const str &amp;operator=(const char *);
   const str &amp;operator=(const str &amp;);
   size_t length();
private:
   size_t len;
   char *ptr;
   };

inline str::~str()
   {
   delete [] ptr;
   }

inline size_t str::length()
   {
   return len;
   }

// End of File
</pre>
</BODY>
</HTML>
