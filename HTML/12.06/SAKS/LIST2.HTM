<HTML><HEAD>
<TITLE>June 1994/Stepping Up To C++/Listing 2</TITLE></HEAD>

<BODY BACKGROUND="" BGCOLOR="#FFFFFF" TEXT="#000000">

<h4><A NAME="heading1">Listing 2 <I>Member function definitions for a queue of </I><B></B>int<B><I></B> using a non-nested cell type</I></A></h4>
<pre>//
// intq1.cpp - a queue of int (implementation)
//

#include "intq1.h"

void intq::append(const int &amp;e)
   {
   intq_cell *p = new intq_cell(e, 0);
   if (first == 0)
      first = p;
   else
      last-&gt;next = p;
   last = p;
   }

void intq::clear()
   {
   intq_cell *p;
   while (first != 0)
      {
      p = first;
      first = first-&gt;next;
      delete p;
      }
   last = 0;
   }

void intq::print(ostream &amp;os) const
   {
   intq_cell *p;
   for (p = first; p != 0; p = p-&gt;next)
      os &lt;&lt; ' ' &lt;&lt; p-&gt;element;
   }

int intq::remove(int &amp;e)
   {
   if (first == 0)
      return 0;
   intq_cell *p = first;
   if ((first = first-&gt;next) == 0)
      last = 0;
   e = p-&gt;element;
   delete p;
   return 1;
   }

// End of File
</pre>
</BODY>
</HTML>
